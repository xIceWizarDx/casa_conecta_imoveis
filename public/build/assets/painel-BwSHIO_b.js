import{j as r,r as l,H as tr}from"./app-Bojf0rdM.js";import{c as ir}from"./createLucideIcon-DcvoijjQ.js";import{c as O,B as p}from"./button-DFd31YyF.js";import{D as Ae,a as ke,b as qe,c as Fe,d as $e}from"./dialog-BAChAj0R.js";import{L as c,I as h}from"./label-BELCoFe5.js";import{I as Y,B as Z}from"./oldsite-Bfrpo68D.js";import{q as u,a as R}from"./index-CMWG4mbA.js";/* empty css            */import"./index-C5yA7Ewc.js";import"./index-tUT0sCON.js";import"./index-CtnTtwh_.js";import"./index-CLQrD3Cv.js";import"./x-BLEv9KHK.js";import"./check-Bnonsc3b.js";import"./loader-circle-dTqG6B0R.js";import"./sun-BmFwjsDo.js";const ar=ir("relative w-full rounded-lg border px-4 py-3 text-sm grid has-[>svg]:grid-cols-[calc(var(--spacing)*4)_1fr] grid-cols-[0_1fr] has-[>svg]:gap-x-3 gap-y-0.5 items-start [&>svg]:size-4 [&>svg]:translate-y-0.5 [&>svg]:text-current",{variants:{variant:{default:"bg-background text-foreground",destructive:"text-destructive-foreground [&>svg]:text-current *:data-[slot=alert-description]:text-destructive-foreground/80"}},defaultVariants:{variant:"default"}});function sr({className:e,variant:i,...n}){return r.jsx("div",{"data-slot":"alert",role:"alert",className:O(ar({variant:i}),e),...n})}function lr({className:e,...i}){return r.jsx("div",{"data-slot":"alert-title",className:O("col-start-2 line-clamp-1 min-h-4 font-medium tracking-tight",e),...i})}function or({className:e,...i}){return r.jsx("div",{"data-slot":"alert-description",className:O("text-muted-foreground col-start-2 grid justify-items-start gap-1 text-sm [&_p]:leading-relaxed",e),...i})}function ie({className:e,...i}){return r.jsx("div",{"data-slot":"card",className:O("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",e),...i})}function ae({className:e,...i}){return r.jsx("div",{"data-slot":"card-header",className:O("flex flex-col gap-1.5 px-6",e),...i})}function se({className:e,...i}){return r.jsx("div",{"data-slot":"card-title",className:O("leading-none font-semibold",e),...i})}function le({className:e,...i}){return r.jsx("div",{"data-slot":"card-content",className:O("px-6",e),...i})}function nr(){const[e,i]=l.useState(!1),[n,H]=l.useState(!1);l.useEffect(()=>{const d=()=>H(window.scrollY>10);return window.addEventListener("scroll",d),()=>window.removeEventListener("scroll",d)},[]);const x=[{name:"Início",path:"/",icon:"Home"},{name:"Sobre Nós",path:"/about-brand-story-credentials",icon:"Users"},{name:"FAQ",path:"/faq-comprehensive-buyer-education",icon:"HelpCircle"},{name:"Painel",path:"/painel",icon:"Image",external:!0}],z=d=>window.location?.pathname===d,C=()=>{const d=encodeURIComponent("Olá! Gostaria de saber mais sobre os imóveis disponíveis.");window.open(`https://wa.me/5562999999999?text=${d}`,"_blank")};return r.jsx("header",{className:`fixed top-0 left-0 right-0 z-50 transition-all duration-200 ${n?"bg-white/95 backdrop-blur-sm shadow-subtle":"bg-white"}`,children:r.jsxs("div",{className:"w-full",children:[r.jsxs("div",{className:"flex h-16 items-center justify-between px-4 sm:px-6 lg:px-8",children:[r.jsxs("a",{href:"/",className:"flex items-center space-x-3 transition-opacity hover:opacity-80",children:[r.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-lg bg-gradient-to-br from-primary to-secondary",children:r.jsx(Y,{name:"Home",size:24,color:"white",strokeWidth:2.5})}),r.jsxs("div",{className:"hidden sm:block",children:[r.jsx("h1",{className:"text-xl font-bold text-text-primary",children:"Casa Conecta"}),r.jsx("p",{className:"text-xs font-medium text-text-secondary",children:"Imóveis Premium"})]})]}),r.jsx("nav",{className:"hidden items-center space-x-8 lg:flex",children:x.map(d=>r.jsxs("a",{href:d.path,className:`flex items-center space-x-2 rounded-md px-3 py-2 text-sm font-medium transition-all duration-200 ${z(d.path)?"bg-primary/10 text-primary":"text-text-secondary hover:bg-primary/5 hover:text-primary"}`,children:[r.jsx(Y,{name:d.icon,size:18}),r.jsx("span",{children:d.name})]},d.path))}),r.jsxs("div",{className:"hidden items-center space-x-4 lg:flex",children:[r.jsx(Z,{variant:"outline",size:"sm",iconName:"Phone",iconPosition:"left",onClick:()=>window.open("tel:+5562999999999"),className:"border-border text-text-secondary hover:border-primary hover:text-primary",children:"(62) 99999-9999"}),r.jsx(Z,{variant:"default",size:"sm",iconName:"MessageCircle",iconPosition:"left",onClick:C,className:"bg-accent hover:bg-accent/90",children:"WhatsApp"})]}),r.jsx("button",{onClick:()=>i(d=>!d),className:"rounded-md p-2 text-text-secondary transition-colors hover:bg-primary/5 hover:text-primary lg:hidden","aria-label":"Toggle mobile menu",children:r.jsx(Y,{name:e?"X":"Menu",size:24})})]}),e&&r.jsx("div",{className:"border-border bg-white lg:hidden",children:r.jsxs("div",{className:"space-y-3 px-4 py-4",children:[x.map(d=>r.jsxs("a",{href:d.path,onClick:()=>i(!1),className:`flex items-center space-x-3 rounded-md px-3 py-3 text-sm font-medium transition-all duration-200 ${z(d.path)?"bg-primary/10 text-primary":"text-text-secondary hover:bg-primary/5 hover:text-primary"}`,children:[r.jsx(Y,{name:d.icon,size:20}),r.jsx("span",{children:d.name})]},d.path)),r.jsxs("div",{className:"space-y-3 border-t border-border pt-4",children:[r.jsx(Z,{variant:"outline",size:"sm",iconName:"Phone",iconPosition:"left",onClick:()=>{window.open("tel:+5562999999999"),i(!1)},fullWidth:!0,className:"justify-start border-border text-text-secondary hover:border-primary hover:text-primary",children:"(62) 99999-9999"}),r.jsx(Z,{variant:"default",size:"sm",iconName:"MessageCircle",iconPosition:"left",onClick:()=>{C(),i(!1)},fullWidth:!0,className:"justify-start bg-accent hover:bg-accent/90",children:"Falar no WhatsApp"})]})]})})]})})}const y=e=>({url:y.url(e),method:"get"});y.definition={methods:["get","head"],url:"/api/admin/featured-properties"};y.url=e=>y.definition.url+u(e);y.get=e=>({url:y.url(e),method:"get"});y.head=e=>({url:y.url(e),method:"head"});const oe=e=>({action:y.url(e),method:"get"});oe.get=e=>({action:y.url(e),method:"get"});oe.head=e=>({action:y.url({[e?.mergeQuery?"mergeQuery":"query"]:{_method:"HEAD",...e?.query??e?.mergeQuery??{}}}),method:"get"});y.form=oe;const P=e=>({url:P.url(e),method:"post"});P.definition={methods:["post"],url:"/api/admin/featured-properties"};P.url=e=>P.definition.url+u(e);P.post=e=>({url:P.url(e),method:"post"});const Te=e=>({action:P.url(e),method:"post"});Te.post=e=>({action:P.url(e),method:"post"});P.form=Te;const I=(e,i)=>({url:I.url(e,i),method:"put"});I.definition={methods:["put"],url:"/api/admin/featured-properties/{featuredProperty}"};I.url=(e,i)=>{(typeof e=="string"||typeof e=="number")&&(e={featuredProperty:e}),typeof e=="object"&&!Array.isArray(e)&&"id"in e&&(e={featuredProperty:e.id}),Array.isArray(e)&&(e={featuredProperty:e[0]}),e=R(e);const n={featuredProperty:typeof e.featuredProperty=="object"?e.featuredProperty.id:e.featuredProperty};return I.definition.url.replace("{featuredProperty}",n.featuredProperty.toString()).replace(/\/+$/,"")+u(i)};I.put=(e,i)=>({url:I.url(e,i),method:"put"});const Ie=(e,i)=>({action:I.url(e,{[i?.mergeQuery?"mergeQuery":"query"]:{_method:"PUT",...i?.query??i?.mergeQuery??{}}}),method:"post"});Ie.put=(e,i)=>({action:I.url(e,{[i?.mergeQuery?"mergeQuery":"query"]:{_method:"PUT",...i?.query??i?.mergeQuery??{}}}),method:"post"});I.form=Ie;const _=(e,i)=>({url:_.url(e,i),method:"delete"});_.definition={methods:["delete"],url:"/api/admin/featured-properties/{featuredProperty}"};_.url=(e,i)=>{(typeof e=="string"||typeof e=="number")&&(e={featuredProperty:e}),typeof e=="object"&&!Array.isArray(e)&&"id"in e&&(e={featuredProperty:e.id}),Array.isArray(e)&&(e={featuredProperty:e[0]}),e=R(e);const n={featuredProperty:typeof e.featuredProperty=="object"?e.featuredProperty.id:e.featuredProperty};return _.definition.url.replace("{featuredProperty}",n.featuredProperty.toString()).replace(/\/+$/,"")+u(i)};_.delete=(e,i)=>({url:_.url(e,i),method:"delete"});const De=(e,i)=>({action:_.url(e,{[i?.mergeQuery?"mergeQuery":"query"]:{_method:"DELETE",...i?.query??i?.mergeQuery??{}}}),method:"post"});De.delete=(e,i)=>({action:_.url(e,{[i?.mergeQuery?"mergeQuery":"query"]:{_method:"DELETE",...i?.query??i?.mergeQuery??{}}}),method:"post"});_.form=De;const E=(e,i)=>({url:E.url(e,i),method:"patch"});E.definition={methods:["patch"],url:"/api/admin/featured-properties/{featuredProperty}/publish"};E.url=(e,i)=>{(typeof e=="string"||typeof e=="number")&&(e={featuredProperty:e}),typeof e=="object"&&!Array.isArray(e)&&"id"in e&&(e={featuredProperty:e.id}),Array.isArray(e)&&(e={featuredProperty:e[0]}),e=R(e);const n={featuredProperty:typeof e.featuredProperty=="object"?e.featuredProperty.id:e.featuredProperty};return E.definition.url.replace("{featuredProperty}",n.featuredProperty.toString()).replace(/\/+$/,"")+u(i)};E.patch=(e,i)=>({url:E.url(e,i),method:"patch"});const He=(e,i)=>({action:E.url(e,{[i?.mergeQuery?"mergeQuery":"query"]:{_method:"PATCH",...i?.query??i?.mergeQuery??{}}}),method:"post"});He.patch=(e,i)=>({action:E.url(e,{[i?.mergeQuery?"mergeQuery":"query"]:{_method:"PATCH",...i?.query??i?.mergeQuery??{}}}),method:"post"});E.form=He;const Q=e=>({url:Q.url(e),method:"patch"});Q.definition={methods:["patch"],url:"/api/admin/featured-properties/reorder"};Q.url=e=>Q.definition.url+u(e);Q.patch=e=>({url:Q.url(e),method:"patch"});const Le=e=>({action:Q.url({[e?.mergeQuery?"mergeQuery":"query"]:{_method:"PATCH",...e?.query??e?.mergeQuery??{}}}),method:"post"});Le.patch=e=>({action:Q.url({[e?.mergeQuery?"mergeQuery":"query"]:{_method:"PATCH",...e?.query??e?.mergeQuery??{}}}),method:"post"});Q.form=Le;const v=e=>({url:v.url(e),method:"get"});v.definition={methods:["get","head"],url:"/api/featured-properties"};v.url=e=>v.definition.url+u(e);v.get=e=>({url:v.url(e),method:"get"});v.head=e=>({url:v.url(e),method:"head"});const ne=e=>({action:v.url(e),method:"get"});ne.get=e=>({action:v.url(e),method:"get"});ne.head=e=>({action:v.url({[e?.mergeQuery?"mergeQuery":"query"]:{_method:"HEAD",...e?.query??e?.mergeQuery??{}}}),method:"get"});v.form=ne;const j=e=>({url:j.url(e),method:"get"});j.definition={methods:["get","head"],url:"/api/admin/hero-slides"};j.url=e=>j.definition.url+u(e);j.get=e=>({url:j.url(e),method:"get"});j.head=e=>({url:j.url(e),method:"head"});const de=e=>({action:j.url(e),method:"get"});de.get=e=>({action:j.url(e),method:"get"});de.head=e=>({action:j.url({[e?.mergeQuery?"mergeQuery":"query"]:{_method:"HEAD",...e?.query??e?.mergeQuery??{}}}),method:"get"});j.form=de;const A=e=>({url:A.url(e),method:"post"});A.definition={methods:["post"],url:"/api/admin/hero-slides"};A.url=e=>A.definition.url+u(e);A.post=e=>({url:A.url(e),method:"post"});const Me=e=>({action:A.url(e),method:"post"});Me.post=e=>({action:A.url(e),method:"post"});A.form=Me;const D=(e,i)=>({url:D.url(e,i),method:"put"});D.definition={methods:["put"],url:"/api/admin/hero-slides/{heroSlide}"};D.url=(e,i)=>{(typeof e=="string"||typeof e=="number")&&(e={heroSlide:e}),typeof e=="object"&&!Array.isArray(e)&&"id"in e&&(e={heroSlide:e.id}),Array.isArray(e)&&(e={heroSlide:e[0]}),e=R(e);const n={heroSlide:typeof e.heroSlide=="object"?e.heroSlide.id:e.heroSlide};return D.definition.url.replace("{heroSlide}",n.heroSlide.toString()).replace(/\/+$/,"")+u(i)};D.put=(e,i)=>({url:D.url(e,i),method:"put"});const Oe=(e,i)=>({action:D.url(e,{[i?.mergeQuery?"mergeQuery":"query"]:{_method:"PUT",...i?.query??i?.mergeQuery??{}}}),method:"post"});Oe.put=(e,i)=>({action:D.url(e,{[i?.mergeQuery?"mergeQuery":"query"]:{_method:"PUT",...i?.query??i?.mergeQuery??{}}}),method:"post"});D.form=Oe;const k=(e,i)=>({url:k.url(e,i),method:"delete"});k.definition={methods:["delete"],url:"/api/admin/hero-slides/{heroSlide}"};k.url=(e,i)=>{(typeof e=="string"||typeof e=="number")&&(e={heroSlide:e}),typeof e=="object"&&!Array.isArray(e)&&"id"in e&&(e={heroSlide:e.id}),Array.isArray(e)&&(e={heroSlide:e[0]}),e=R(e);const n={heroSlide:typeof e.heroSlide=="object"?e.heroSlide.id:e.heroSlide};return k.definition.url.replace("{heroSlide}",n.heroSlide.toString()).replace(/\/+$/,"")+u(i)};k.delete=(e,i)=>({url:k.url(e,i),method:"delete"});const Re=(e,i)=>({action:k.url(e,{[i?.mergeQuery?"mergeQuery":"query"]:{_method:"DELETE",...i?.query??i?.mergeQuery??{}}}),method:"post"});Re.delete=(e,i)=>({action:k.url(e,{[i?.mergeQuery?"mergeQuery":"query"]:{_method:"DELETE",...i?.query??i?.mergeQuery??{}}}),method:"post"});k.form=Re;const q=(e,i)=>({url:q.url(e,i),method:"patch"});q.definition={methods:["patch"],url:"/api/admin/hero-slides/{heroSlide}/publish"};q.url=(e,i)=>{(typeof e=="string"||typeof e=="number")&&(e={heroSlide:e}),typeof e=="object"&&!Array.isArray(e)&&"id"in e&&(e={heroSlide:e.id}),Array.isArray(e)&&(e={heroSlide:e[0]}),e=R(e);const n={heroSlide:typeof e.heroSlide=="object"?e.heroSlide.id:e.heroSlide};return q.definition.url.replace("{heroSlide}",n.heroSlide.toString()).replace(/\/+$/,"")+u(i)};q.patch=(e,i)=>({url:q.url(e,i),method:"patch"});const ze=(e,i)=>({action:q.url(e,{[i?.mergeQuery?"mergeQuery":"query"]:{_method:"PATCH",...i?.query??i?.mergeQuery??{}}}),method:"post"});ze.patch=(e,i)=>({action:q.url(e,{[i?.mergeQuery?"mergeQuery":"query"]:{_method:"PATCH",...i?.query??i?.mergeQuery??{}}}),method:"post"});q.form=ze;const F=e=>({url:F.url(e),method:"patch"});F.definition={methods:["patch"],url:"/api/admin/hero-slides/reorder"};F.url=e=>F.definition.url+u(e);F.patch=e=>({url:F.url(e),method:"patch"});const Be=e=>({action:F.url({[e?.mergeQuery?"mergeQuery":"query"]:{_method:"PATCH",...e?.query??e?.mergeQuery??{}}}),method:"post"});Be.patch=e=>({action:F.url({[e?.mergeQuery?"mergeQuery":"query"]:{_method:"PATCH",...e?.query??e?.mergeQuery??{}}}),method:"post"});F.form=Be;const S=e=>({url:S.url(e),method:"get"});S.definition={methods:["get","head"],url:"/api/hero-slides"};S.url=e=>S.definition.url+u(e);S.get=e=>({url:S.url(e),method:"get"});S.head=e=>({url:S.url(e),method:"head"});const ce=e=>({action:S.url(e),method:"get"});ce.get=e=>({action:S.url(e),method:"get"});ce.head=e=>({action:S.url({[e?.mergeQuery?"mergeQuery":"query"]:{_method:"HEAD",...e?.query??e?.mergeQuery??{}}}),method:"get"});S.form=ce;const b=e=>({url:b.url(e),method:"get"});b.definition={methods:["get","head"],url:"/api/images"};b.url=e=>b.definition.url+u(e);b.get=e=>({url:b.url(e),method:"get"});b.head=e=>({url:b.url(e),method:"head"});const ue=e=>({action:b.url(e),method:"get"});ue.get=e=>({action:b.url(e),method:"get"});ue.head=e=>({action:b.url({[e?.mergeQuery?"mergeQuery":"query"]:{_method:"HEAD",...e?.query??e?.mergeQuery??{}}}),method:"get"});b.form=ue;const $=e=>({url:$.url(e),method:"post"});$.definition={methods:["post"],url:"/api/images"};$.url=e=>$.definition.url+u(e);$.post=e=>({url:$.url(e),method:"post"});const Ue=e=>({action:$.url(e),method:"post"});Ue.post=e=>({action:$.url(e),method:"post"});$.form=Ue;const T=(e,i)=>({url:T.url(e,i),method:"delete"});T.definition={methods:["delete"],url:"/api/images/{image}"};T.url=(e,i)=>{(typeof e=="string"||typeof e=="number")&&(e={image:e}),typeof e=="object"&&!Array.isArray(e)&&"id"in e&&(e={image:e.id}),Array.isArray(e)&&(e={image:e[0]}),e=R(e);const n={image:typeof e.image=="object"?e.image.id:e.image};return T.definition.url.replace("{image}",n.image.toString()).replace(/\/+$/,"")+u(i)};T.delete=(e,i)=>({url:T.url(e,i),method:"delete"});const Je=(e,i)=>({action:T.url(e,{[i?.mergeQuery?"mergeQuery":"query"]:{_method:"DELETE",...i?.query??i?.mergeQuery??{}}}),method:"post"});Je.delete=(e,i)=>({action:T.url(e,{[i?.mergeQuery?"mergeQuery":"query"]:{_method:"DELETE",...i?.query??i?.mergeQuery??{}}}),method:"post"});T.form=Je;const dr=()=>document.querySelector('meta[name="csrf-token"]')?.content??"";async function f(e,i){const n=(e.method??"get").toUpperCase(),H=new Headers(i?.headers);["POST","PUT","PATCH","DELETE"].includes(n)&&(H.has("X-CSRF-TOKEN")||H.set("X-CSRF-TOKEN",dr()));const x=await fetch(e.url,{method:n,credentials:"same-origin",...i,headers:H});if(!x.ok){const C=await x.text();throw new Error(C||`HTTP ${x.status}`)}return(x.headers.get("content-type")||"").includes("application/json")?x.json():null}function Mr(){const[e,i]=l.useState([]),[n,H]=l.useState(!1),[x,z]=l.useState(null),[C,d]=l.useState([]),[me,he]=l.useState(!1),[o,N]=l.useState({}),[cr,pe]=l.useState(!1),[xe,ge]=l.useState(!1),[ur,mr]=l.useState(null),[hr,pr]=l.useState({}),[xr,gr]=l.useState(!1),[K,fe]=l.useState([]),[ye,je]=l.useState(!1),[s,g]=l.useState({features:[]}),[be,ve]=l.useState(""),[fr,Se]=l.useState(!1),[yr,jr]=l.useState(null),[br,vr]=l.useState({}),[Sr,Nr]=l.useState(!1),[Ne,B]=l.useState(!1),[we,U]=l.useState(null),[G,J]=l.useState(null),[V,Ce]=l.useState("publicacoes");l.useEffect(()=>{We()},[]),l.useEffect(()=>{try{document.documentElement.classList.remove("dark")}catch{}},[]);const Pe=t=>{const a=t.replace(/\D/g,"");if(!a)return"";const m=Number(a)/100;try{return m.toLocaleString("pt-BR",{style:"currency",currency:"BRL"})}catch{return`R$ ${m.toFixed(2)}`}},_e=t=>{const a=t.replace(/\D/g,"");if(!a)return"";const m=parseInt(a,10);try{return`${m.toLocaleString("pt-BR")} m²`}catch{return`${m} m²`}},We=async()=>{await Promise.all([ee(),W(),X()])},ee=async()=>{pe(!0);try{const t=await f(b());i(t)}catch(t){J({type:"error",title:"Falha ao carregar imagens",message:t instanceof Error?t.message:String(t)})}finally{pe(!1)}},W=async()=>{ge(!0);try{const t=await f(j());d(t)}catch(t){J({type:"error",title:"Falha ao carregar slides",message:t instanceof Error?t.message:String(t)})}finally{ge(!1)}},X=async()=>{Se(!0);try{const t=await f(y());fe(t)}catch(t){J({type:"error",title:"Falha ao carregar destaques",message:t instanceof Error?t.message:String(t)})}finally{Se(!1)}},Ge=async()=>{if(!x||x.length===0)return;const t=new FormData;Array.from(x).forEach(a=>t.append("images[]",a)),H(!0);try{await f($(),{body:t}),z(null),await ee(),J({type:"success",title:"Imagens enviadas com sucesso"})}finally{H(!1)}},Xe=async t=>{confirm("Excluir esta imagem?")&&(await f(T(t)),await ee())},Ke=async()=>{if(!o.image_id||!o.title||!o.price){alert("Selecione uma imagem, título e preço.");return}he(!0);try{const t=JSON.stringify({image_id:o.image_id,title:o.title,subtitle:o.subtitle??null,price:o.price,bedrooms:o.bedrooms??null,bathrooms:o.bathrooms??null,area:o.area??null,neighborhood:o.neighborhood??null,is_new:!!o.is_new,is_published:!!o.is_published});await f(A(),{body:t,headers:{"Content-Type":"application/json"}}),N({}),await W(),J({type:"success",title:"Slide adicionado"})}finally{he(!1)}},Ve=async t=>{await f(q({heroSlide:t})),await W()},Ye=async t=>{confirm("Excluir este slide?")&&(await f(k({heroSlide:t})),await W())},Ee=async(t,a)=>{const m=C.findIndex(M=>M.id===t);if(m<0)return;const L=m+a;if(L<0||L>=C.length)return;const w=C.slice(),[re]=w.splice(m,1);w.splice(L,0,re),d(w);const te=w.map(M=>M.id);await f(F.patch(),{body:JSON.stringify({ids:te}),headers:{"Content-Type":"application/json"}}),await W()},Ze=async()=>{if(!s.image_id||!s.title||!s.price){alert("Selecione uma imagem, título e preço.");return}je(!0);try{const t=JSON.stringify({image_id:s.image_id,title:s.title,neighborhood:s.neighborhood??null,price:s.price,bedrooms:s.bedrooms??null,bathrooms:s.bathrooms??null,area:s.area??null,type:s.type??null,features:s.features??[],price_range:s.price_range??null,is_new:!!s.is_new,is_published:!!s.is_published});await f(P(),{body:t,headers:{"Content-Type":"application/json"}}),g({}),await X(),J({type:"success",title:"Destaque adicionado"})}finally{je(!1)}},er=async t=>{await f(E({featuredProperty:t})),await X()},rr=async t=>{confirm("Excluir este destaque?")&&(await f(_({featuredProperty:t})),await X())},Qe=async(t,a)=>{const m=K.findIndex(M=>M.id===t);if(m<0)return;const L=m+a;if(L<0||L>=K.length)return;const w=K.slice(),[re]=w.splice(m,1);w.splice(L,0,re),fe(w);const te=w.map(M=>M.id);await f(Q.patch(),{body:JSON.stringify({ids:te}),headers:{"Content-Type":"application/json"}}),await X()};return r.jsxs("div",{className:"old-site",children:[r.jsx(tr,{title:"Painel"}),r.jsx(nr,{}),r.jsxs("div",{className:"container-responsive section-spacing flex flex-col gap-6 pt-24",children:[G&&r.jsxs(sr,{variant:G.type==="error"?"destructive":"default",children:[r.jsx(lr,{children:G.title}),G.message&&r.jsx(or,{children:G.message})]}),r.jsx("div",{className:"mb-4 border-b",children:r.jsxs("div",{className:"flex gap-2",children:[r.jsx("button",{type:"button",onClick:()=>Ce("publicacoes"),className:`-mb-px border-b-2 px-4 py-2 ${V==="publicacoes"?"border-primary text-primary":"border-transparent text-muted-foreground hover:text-foreground"}`,children:"Publicações"}),r.jsx("button",{type:"button",onClick:()=>Ce("images"),className:`-mb-px border-b-2 px-4 py-2 ${V==="images"?"border-primary text-primary":"border-transparent text-muted-foreground hover:text-foreground"}`,children:"Imagens"})]})}),V==="images"&&r.jsxs(ie,{children:[r.jsx(ae,{children:r.jsx(se,{children:"Gerenciar Imagens"})}),r.jsxs(le,{className:"space-y-4",children:[r.jsxs("div",{className:"flex flex-col gap-2 sm:flex-row sm:items-end",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx(c,{htmlFor:"images",children:"Enviar imagens (até 20 por vez)"}),r.jsx(h,{id:"images",type:"file",multiple:!0,accept:"image/*",onChange:t=>z(t.target.files)})]}),r.jsx("div",{children:r.jsx(p,{onClick:Ge,disabled:n||!x||x.length===0,children:n?"Enviando…":"Enviar"})})]}),e.length>0?r.jsx("div",{className:"grid grid-cols-2 gap-3 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-6",children:e.map(t=>r.jsxs("div",{className:"group relative overflow-hidden rounded-md border",children:[r.jsx("img",{src:t.url,alt:t.original_name,className:"h-36 w-full object-cover"}),r.jsxs("div",{className:"absolute inset-x-0 bottom-0 flex items-center justify-between bg-black/50 p-1 text-xs text-white opacity-0 transition group-hover:opacity-100",children:[r.jsx("span",{className:"truncate",title:t.original_name,children:t.original_name}),r.jsx("button",{className:"rounded bg-red-600 px-2 py-0.5 text-[11px]",onClick:()=>Xe(t.id),children:"Excluir"})]})]},t.id))}):r.jsx("p",{className:"text-sm text-muted-foreground",children:"Nenhuma imagem enviada ainda."})]})]}),V==="publicacoes"&&r.jsxs(r.Fragment,{children:[r.jsxs(ie,{children:[r.jsx(ae,{children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx(se,{children:"Hero Slides"}),r.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[r.jsx("span",{children:xe?"Carregando…":`${C.length} itens`}),r.jsx(p,{variant:"secondary",onClick:W,disabled:xe,children:"Atualizar"})]})]})}),r.jsxs(le,{className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-1 gap-3 md:grid-cols-5",children:[r.jsxs("div",{children:[r.jsx(c,{children:"Imagem"}),r.jsxs("div",{className:"mt-2 flex items-center gap-2",children:[r.jsxs(Ae,{open:Ne&&we==="slide",onOpenChange:t=>{B(t),t||U(null)},children:[r.jsx(ke,{asChild:!0,children:r.jsx(p,{type:"button",variant:"secondary",onClick:()=>{U("slide"),B(!0)},children:"Selecionar da galeria"})}),r.jsxs(qe,{className:"sm:max-w-3xl",children:[r.jsx(Fe,{children:r.jsx($e,{children:"Escolher imagem"})}),r.jsx("div",{className:"grid grid-cols-2 gap-3 sm:grid-cols-3 md:grid-cols-4",children:e.map(t=>r.jsx("button",{type:"button",className:"overflow-hidden rounded-md border focus:ring-2 focus:ring-ring focus:outline-none",onClick:()=>{N(a=>({...a,image_id:t.id})),B(!1),U(null)},children:r.jsx("img",{src:t.url,alt:t.original_name,className:"h-28 w-full object-cover"})},t.id))})]})]}),o.image_id&&r.jsx("img",{src:e.find(t=>t.id===o.image_id)?.url,alt:"Selecionada",className:"h-10 w-14 rounded object-cover"})]})]}),r.jsxs("div",{children:[r.jsx(c,{children:"Título"}),r.jsx(h,{value:o.title??"",onChange:t=>N(a=>({...a,title:t.target.value})),placeholder:"Ex: Casa moderna no Setor Marista"})]}),r.jsxs("div",{children:[r.jsx(c,{children:"Subtítulo"}),r.jsx(h,{value:o.subtitle??"",onChange:t=>N(a=>({...a,subtitle:t.target.value})),placeholder:"Ex: Próximo ao Flamboyant"})]}),r.jsxs("div",{children:[r.jsx(c,{children:"Bairro"}),r.jsx(h,{value:o.neighborhood??"",onChange:t=>N(a=>({...a,neighborhood:t.target.value})),placeholder:"Ex: Setor Marista"})]}),r.jsxs("div",{children:[r.jsx(c,{children:"Preço"}),r.jsx(h,{value:o.price??"",onChange:t=>N(a=>({...a,price:Pe(t.target.value)})),inputMode:"numeric",placeholder:"Ex: R$ 1.250.000,00"})]})]}),r.jsxs("div",{className:"grid grid-cols-1 gap-3 md:grid-cols-3",children:[r.jsxs("div",{children:[r.jsx(c,{children:"Quartos"}),r.jsx(h,{type:"number",min:0,value:o.bedrooms??"",onChange:t=>N(a=>({...a,bedrooms:Number(t.target.value||0)})),inputMode:"numeric",placeholder:"Ex: 3"})]}),r.jsxs("div",{children:[r.jsx(c,{children:"Banheiros"}),r.jsx(h,{type:"number",min:0,value:o.bathrooms??"",onChange:t=>N(a=>({...a,bathrooms:Number(t.target.value||0)})),inputMode:"numeric",placeholder:"Ex: 2"})]}),r.jsxs("div",{children:[r.jsx(c,{children:"Área"}),r.jsx(h,{value:o.area??"",onChange:t=>N(a=>({...a,area:_e(t.target.value)})),inputMode:"numeric",placeholder:"Ex: 120 m²"})]})]}),r.jsxs("div",{className:"flex items-center gap-6",children:[r.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[r.jsx("input",{type:"checkbox",checked:!!o.is_new,onChange:t=>N(a=>({...a,is_new:t.target.checked}))}),"Novo"]}),r.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[r.jsx("input",{type:"checkbox",checked:!!o.is_published,onChange:t=>N(a=>({...a,is_published:t.target.checked}))}),"Publicado"]})]}),r.jsx("div",{className:"flex items-end gap-2",children:r.jsx(p,{onClick:Ke,disabled:me,children:me?"Adicionando…":"Adicionar Slide"})}),r.jsx("div",{className:"grid grid-cols-1 gap-3 md:grid-cols-2 lg:grid-cols-3",children:C.map(t=>r.jsxs("div",{className:"overflow-hidden rounded-md border",children:[t.image_url?r.jsx("img",{src:t.image_url,alt:t.title,className:"h-40 w-full object-cover"}):r.jsx("div",{className:"h-40 w-full bg-muted"}),r.jsxs("div",{className:"flex items-center justify-between gap-2 p-2",children:[r.jsxs("div",{className:"min-w-0",children:[r.jsx("div",{className:"truncate font-medium",title:t.title,children:t.title}),r.jsx("div",{className:"text-xs text-muted-foreground",children:t.price})]}),r.jsxs("div",{className:"flex shrink-0 items-center gap-1",children:[r.jsx(p,{variant:"secondary",onClick:()=>Ee(t.id,-1),title:"Subir",children:"↑"}),r.jsx(p,{variant:"secondary",onClick:()=>Ee(t.id,1),title:"Descer",children:"↓"}),r.jsx(p,{variant:t.is_published?"default":"secondary",onClick:()=>Ve(t.id),title:"Publicar/Despublicar",children:t.is_published?"Publicado":"Rascunho"}),r.jsx(p,{variant:"destructive",onClick:()=>Ye(t.id),title:"Excluir",children:"Excluir"})]})]})]},t.id))})]})]}),r.jsxs(ie,{children:[r.jsx(ae,{children:r.jsx(se,{children:"Imóveis em Destaque"})}),r.jsxs(le,{className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-1 gap-3 md:grid-cols-4",children:[r.jsxs("div",{children:[r.jsx(c,{children:"Imagem"}),r.jsxs("div",{className:"mt-2 flex items-center gap-2",children:[r.jsxs(Ae,{open:Ne&&we==="featured",onOpenChange:t=>{B(t),t||U(null)},children:[r.jsx(ke,{asChild:!0,children:r.jsx(p,{type:"button",variant:"secondary",onClick:()=>{U("featured"),B(!0)},children:"Selecionar da galeria"})}),r.jsxs(qe,{className:"sm:max-w-3xl",children:[r.jsx(Fe,{children:r.jsx($e,{children:"Escolher imagem"})}),r.jsx("div",{className:"grid grid-cols-2 gap-3 sm:grid-cols-3 md:grid-cols-4",children:e.map(t=>r.jsx("button",{type:"button",className:"overflow-hidden rounded-md border focus:ring-2 focus:ring-ring focus:outline-none",onClick:()=>{g(a=>({...a,image_id:t.id})),B(!1),U(null)},children:r.jsx("img",{src:t.url,alt:t.original_name,className:"h-28 w-full object-cover"})},t.id))})]})]}),s.image_id&&r.jsx("img",{src:e.find(t=>t.id===s.image_id)?.url,alt:"Selecionada",className:"h-10 w-14 rounded object-cover"})]})]}),r.jsxs("div",{children:[r.jsx(c,{children:"Título"}),r.jsx(h,{value:s.title??"",onChange:t=>g(a=>({...a,title:t.target.value})),placeholder:"Ex: Apartamento premium Jardim Goiás"})]}),r.jsxs("div",{children:[r.jsx(c,{children:"Bairro"}),r.jsx(h,{value:s.neighborhood??"",onChange:t=>g(a=>({...a,neighborhood:t.target.value})),placeholder:"Ex: Jardim Goiás"})]}),r.jsxs("div",{children:[r.jsx(c,{children:"Preço"}),r.jsx(h,{value:s.price??"",onChange:t=>g(a=>({...a,price:Pe(t.target.value)})),inputMode:"numeric",placeholder:"Ex: R$ 950.000,00"})]})]}),r.jsxs("div",{className:"grid grid-cols-1 gap-3 md:grid-cols-5",children:[r.jsxs("div",{children:[r.jsx(c,{children:"Quartos"}),r.jsx(h,{type:"number",min:0,value:s.bedrooms??"",onChange:t=>g(a=>({...a,bedrooms:Number(t.target.value||0)})),inputMode:"numeric",placeholder:"Ex: 3"})]}),r.jsxs("div",{children:[r.jsx(c,{children:"Banheiros"}),r.jsx(h,{type:"number",min:0,value:s.bathrooms??"",onChange:t=>g(a=>({...a,bathrooms:Number(t.target.value||0)})),inputMode:"numeric",placeholder:"Ex: 2"})]}),r.jsxs("div",{children:[r.jsx(c,{children:"Área"}),r.jsx(h,{value:s.area??"",onChange:t=>g(a=>({...a,area:_e(t.target.value)})),inputMode:"numeric",placeholder:"Ex: 120 m²"})]}),r.jsxs("div",{children:[r.jsx(c,{children:"Tipo"}),r.jsxs("select",{className:"mt-1 w-full rounded-md border bg-background p-2",value:s.type??"",onChange:t=>g(a=>({...a,type:t.target.value})),children:[r.jsx("option",{value:"",children:"Selecione…"}),r.jsx("option",{value:"casa",children:"Casa"}),r.jsx("option",{value:"apartamento",children:"Apartamento"}),r.jsx("option",{value:"sobrado",children:"Sobrado"}),r.jsx("option",{value:"cobertura",children:"Cobertura"})]})]}),r.jsxs("div",{children:[r.jsx(c,{children:"Faixa de preço"}),r.jsx(h,{value:s.price_range??"",onChange:t=>g(a=>({...a,price_range:t.target.value})),placeholder:"Ex: 800000-1200000"})]})]}),r.jsxs("div",{className:"flex items-center gap-6",children:[r.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[r.jsx("input",{type:"checkbox",checked:!!s.is_new,onChange:t=>g(a=>({...a,is_new:t.target.checked}))}),"Novo"]}),r.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[r.jsx("input",{type:"checkbox",checked:!!s.is_published,onChange:t=>g(a=>({...a,is_published:t.target.checked}))}),"Publicado"]})]}),r.jsxs("div",{children:[r.jsx(c,{children:"Características (features)"}),r.jsxs("div",{className:"mt-2 flex items-center gap-2",children:[r.jsx(h,{value:be,onChange:t=>ve(t.target.value),placeholder:"Ex: Piscina"}),r.jsx(p,{type:"button",variant:"secondary",onClick:()=>{const t=be.trim();t&&(g(a=>({...a,features:[...a.features??[],t]})),ve(""))},children:"Adicionar"})]}),(s.features??[]).length>0&&r.jsx("div",{className:"mt-2 flex flex-wrap gap-2",children:(s.features??[]).map((t,a)=>r.jsxs("span",{className:"inline-flex items-center gap-1 rounded-full bg-muted px-2 py-1 text-xs",children:[t,r.jsx("button",{type:"button",className:"text-muted-foreground hover:text-foreground",onClick:()=>g(m=>({...m,features:(m.features??[]).filter((L,w)=>w!==a)})),children:"×"})]},`${t}-${a}`))})]}),r.jsx("div",{className:"flex items-end gap-2",children:r.jsx(p,{onClick:Ze,disabled:ye,children:ye?"Adicionando…":"Adicionar Destaque"})}),r.jsx("div",{className:"grid grid-cols-1 gap-3 md:grid-cols-2 lg:grid-cols-3",children:K.map(t=>r.jsxs("div",{className:"overflow-hidden rounded-md border",children:[t.image_url?r.jsx("img",{src:t.image_url,alt:t.title,className:"h-40 w-full object-cover"}):r.jsx("div",{className:"h-40 w-full bg-muted"}),r.jsxs("div",{className:"flex items-center justify-between gap-2 p-2",children:[r.jsxs("div",{className:"min-w-0",children:[r.jsx("div",{className:"truncate font-medium",title:t.title,children:t.title}),r.jsx("div",{className:"text-xs text-muted-foreground",children:t.price})]}),r.jsxs("div",{className:"flex shrink-0 items-center gap-1",children:[r.jsx(p,{variant:"secondary",onClick:()=>Qe(t.id,-1),title:"Subir",children:"Subir"}),r.jsx(p,{variant:"secondary",onClick:()=>Qe(t.id,1),title:"Descer",children:"Descer"}),r.jsx(p,{variant:t.is_published?"default":"secondary",onClick:()=>er(t.id),title:"Publicar/Despublicar",children:t.is_published?"Publicado":"Rascunho"}),r.jsx(p,{variant:"destructive",onClick:()=>rr(t.id),title:"Excluir",children:"Excluir"})]})]})]},t.id))})]})]})]})]})]})}export{Mr as default};
