import{r as s,j as r,H as ir}from"./app-Dd0696Hw.js";import{I as Y,B as Z}from"./oldsite-D6wC1Szy.js";import{c as O,B as x}from"./button-B2YxlLUS.js";import{L as c,I as h}from"./label-B5dFyvGh.js";import{c as ar}from"./createLucideIcon-B9vR0VXE.js";import{D as ke,a as qe,b as Fe,c as $e,d as Te}from"./dialog-CWisa7ls.js";import{q as u,a as R}from"./index-CMWG4mbA.js";/* empty css            */import"./x-BqspvH3x.js";import"./check-BTBPSMch.js";import"./loader-circle-C8OKiGK0.js";import"./sun-BwKU-TII.js";import"./index-B4xh6CXj.js";import"./index-Bldc2u1L.js";import"./index-Cdf9nCrV.js";import"./index-k8aJRoKW.js";function lr(){const[e,i]=s.useState(!1),[n,H]=s.useState(!1);s.useEffect(()=>{const d=()=>H(window.scrollY>10);return window.addEventListener("scroll",d),()=>window.removeEventListener("scroll",d)},[]);const g=[{name:"Início",path:"/",icon:"Home"},{name:"Sobre Nós",path:"/about-brand-story-credentials",icon:"Users"},{name:"FAQ",path:"/faq-comprehensive-buyer-education",icon:"HelpCircle"},{name:"Painel",path:"/painel",icon:"Image",external:!0}],z=d=>window.location?.pathname===d,C=()=>{const d=encodeURIComponent("Olá! Gostaria de saber mais sobre os imóveis disponíveis.");window.open(`https://wa.me/5562999999999?text=${d}`,"_blank")};return r.jsx("header",{className:`fixed top-0 left-0 right-0 z-50 transition-all duration-200 ${n?"bg-white/95 backdrop-blur-sm shadow-subtle":"bg-white"}`,children:r.jsxs("div",{className:"w-full",children:[r.jsxs("div",{className:"flex h-16 items-center justify-between px-4 sm:px-6 lg:px-8",children:[r.jsxs("a",{href:"/",className:"flex items-center space-x-3 transition-opacity hover:opacity-80",children:[r.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-lg bg-gradient-to-br from-primary to-secondary",children:r.jsx(Y,{name:"Home",size:24,color:"white",strokeWidth:2.5})}),r.jsxs("div",{className:"hidden sm:block",children:[r.jsx("h1",{className:"text-xl font-bold text-text-primary",children:"Casa Conecta"}),r.jsx("p",{className:"text-xs font-medium text-text-secondary",children:"Imóveis Premium"})]})]}),r.jsx("nav",{className:"hidden items-center space-x-8 lg:flex",children:g.map(d=>r.jsxs("a",{href:d.path,className:`flex items-center space-x-2 rounded-md px-3 py-2 text-sm font-medium transition-all duration-200 ${z(d.path)?"bg-primary/10 text-primary":"text-text-secondary hover:bg-primary/5 hover:text-primary"}`,children:[r.jsx(Y,{name:d.icon,size:18}),r.jsx("span",{children:d.name})]},d.path))}),r.jsxs("div",{className:"hidden items-center space-x-4 lg:flex",children:[r.jsx(Z,{variant:"outline",size:"sm",iconName:"Phone",iconPosition:"left",onClick:()=>window.open("tel:+5562999999999"),className:"border-border text-text-secondary hover:border-primary hover:text-primary",children:"(62) 99999-9999"}),r.jsx(Z,{variant:"default",size:"sm",iconName:"MessageCircle",iconPosition:"left",onClick:C,className:"bg-accent hover:bg-accent/90",children:"WhatsApp"})]}),r.jsx("button",{onClick:()=>i(d=>!d),className:"rounded-md p-2 text-text-secondary transition-colors hover:bg-primary/5 hover:text-primary lg:hidden","aria-label":"Toggle mobile menu",children:r.jsx(Y,{name:e?"X":"Menu",size:24})})]}),e&&r.jsx("div",{className:"border-border bg-white lg:hidden",children:r.jsxs("div",{className:"space-y-3 px-4 py-4",children:[g.map(d=>r.jsxs("a",{href:d.path,onClick:()=>i(!1),className:`flex items-center space-x-3 rounded-md px-3 py-3 text-sm font-medium transition-all duration-200 ${z(d.path)?"bg-primary/10 text-primary":"text-text-secondary hover:bg-primary/5 hover:text-primary"}`,children:[r.jsx(Y,{name:d.icon,size:20}),r.jsx("span",{children:d.name})]},d.path)),r.jsxs("div",{className:"space-y-3 border-t border-border pt-4",children:[r.jsx(Z,{variant:"outline",size:"sm",iconName:"Phone",iconPosition:"left",onClick:()=>{window.open("tel:+5562999999999"),i(!1)},fullWidth:!0,className:"justify-start border-border text-text-secondary hover:border-primary hover:text-primary",children:"(62) 99999-9999"}),r.jsx(Z,{variant:"default",size:"sm",iconName:"MessageCircle",iconPosition:"left",onClick:()=>{C(),i(!1)},fullWidth:!0,className:"justify-start bg-accent hover:bg-accent/90",children:"Falar no WhatsApp"})]})]})})]})})}function ie({className:e,...i}){return r.jsx("div",{"data-slot":"card",className:O("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",e),...i})}function ae({className:e,...i}){return r.jsx("div",{"data-slot":"card-header",className:O("flex flex-col gap-1.5 px-6",e),...i})}function le({className:e,...i}){return r.jsx("div",{"data-slot":"card-title",className:O("leading-none font-semibold",e),...i})}function se({className:e,...i}){return r.jsx("div",{"data-slot":"card-content",className:O("px-6",e),...i})}const sr=ar("relative w-full rounded-lg border px-4 py-3 text-sm grid has-[>svg]:grid-cols-[calc(var(--spacing)*4)_1fr] grid-cols-[0_1fr] has-[>svg]:gap-x-3 gap-y-0.5 items-start [&>svg]:size-4 [&>svg]:translate-y-0.5 [&>svg]:text-current",{variants:{variant:{default:"bg-background text-foreground",destructive:"text-destructive-foreground [&>svg]:text-current *:data-[slot=alert-description]:text-destructive-foreground/80"}},defaultVariants:{variant:"default"}});function or({className:e,variant:i,...n}){return r.jsx("div",{"data-slot":"alert",role:"alert",className:O(sr({variant:i}),e),...n})}function nr({className:e,...i}){return r.jsx("div",{"data-slot":"alert-title",className:O("col-start-2 line-clamp-1 min-h-4 font-medium tracking-tight",e),...i})}function dr({className:e,...i}){return r.jsx("div",{"data-slot":"alert-description",className:O("text-muted-foreground col-start-2 grid justify-items-start gap-1 text-sm [&_p]:leading-relaxed",e),...i})}const y=e=>({url:y.url(e),method:"get"});y.definition={methods:["get","head"],url:"/api/images"};y.url=e=>y.definition.url+u(e);y.get=e=>({url:y.url(e),method:"get"});y.head=e=>({url:y.url(e),method:"head"});const oe=e=>({action:y.url(e),method:"get"});oe.get=e=>({action:y.url(e),method:"get"});oe.head=e=>({action:y.url({[e?.mergeQuery?"mergeQuery":"query"]:{_method:"HEAD",...e?.query??e?.mergeQuery??{}}}),method:"get"});y.form=oe;const P=e=>({url:P.url(e),method:"post"});P.definition={methods:["post"],url:"/api/images"};P.url=e=>P.definition.url+u(e);P.post=e=>({url:P.url(e),method:"post"});const Ie=e=>({action:P.url(e),method:"post"});Ie.post=e=>({action:P.url(e),method:"post"});P.form=Ie;const _=(e,i)=>({url:_.url(e,i),method:"delete"});_.definition={methods:["delete"],url:"/api/images/{image}"};_.url=(e,i)=>{(typeof e=="string"||typeof e=="number")&&(e={image:e}),typeof e=="object"&&!Array.isArray(e)&&"id"in e&&(e={image:e.id}),Array.isArray(e)&&(e={image:e[0]}),e=R(e);const n={image:typeof e.image=="object"?e.image.id:e.image};return _.definition.url.replace("{image}",n.image.toString()).replace(/\/+$/,"")+u(i)};_.delete=(e,i)=>({url:_.url(e,i),method:"delete"});const De=(e,i)=>({action:_.url(e,{[i?.mergeQuery?"mergeQuery":"query"]:{_method:"DELETE",...i?.query??i?.mergeQuery??{}}}),method:"post"});De.delete=(e,i)=>({action:_.url(e,{[i?.mergeQuery?"mergeQuery":"query"]:{_method:"DELETE",...i?.query??i?.mergeQuery??{}}}),method:"post"});_.form=De;const j=e=>({url:j.url(e),method:"get"});j.definition={methods:["get","head"],url:"/api/admin/hero-slides"};j.url=e=>j.definition.url+u(e);j.get=e=>({url:j.url(e),method:"get"});j.head=e=>({url:j.url(e),method:"head"});const ne=e=>({action:j.url(e),method:"get"});ne.get=e=>({action:j.url(e),method:"get"});ne.head=e=>({action:j.url({[e?.mergeQuery?"mergeQuery":"query"]:{_method:"HEAD",...e?.query??e?.mergeQuery??{}}}),method:"get"});j.form=ne;const E=e=>({url:E.url(e),method:"post"});E.definition={methods:["post"],url:"/api/admin/hero-slides"};E.url=e=>E.definition.url+u(e);E.post=e=>({url:E.url(e),method:"post"});const He=e=>({action:E.url(e),method:"post"});He.post=e=>({action:E.url(e),method:"post"});E.form=He;const I=(e,i)=>({url:I.url(e,i),method:"put"});I.definition={methods:["put"],url:"/api/admin/hero-slides/{heroSlide}"};I.url=(e,i)=>{(typeof e=="string"||typeof e=="number")&&(e={heroSlide:e}),typeof e=="object"&&!Array.isArray(e)&&"id"in e&&(e={heroSlide:e.id}),Array.isArray(e)&&(e={heroSlide:e[0]}),e=R(e);const n={heroSlide:typeof e.heroSlide=="object"?e.heroSlide.id:e.heroSlide};return I.definition.url.replace("{heroSlide}",n.heroSlide.toString()).replace(/\/+$/,"")+u(i)};I.put=(e,i)=>({url:I.url(e,i),method:"put"});const Le=(e,i)=>({action:I.url(e,{[i?.mergeQuery?"mergeQuery":"query"]:{_method:"PUT",...i?.query??i?.mergeQuery??{}}}),method:"post"});Le.put=(e,i)=>({action:I.url(e,{[i?.mergeQuery?"mergeQuery":"query"]:{_method:"PUT",...i?.query??i?.mergeQuery??{}}}),method:"post"});I.form=Le;const Q=(e,i)=>({url:Q.url(e,i),method:"delete"});Q.definition={methods:["delete"],url:"/api/admin/hero-slides/{heroSlide}"};Q.url=(e,i)=>{(typeof e=="string"||typeof e=="number")&&(e={heroSlide:e}),typeof e=="object"&&!Array.isArray(e)&&"id"in e&&(e={heroSlide:e.id}),Array.isArray(e)&&(e={heroSlide:e[0]}),e=R(e);const n={heroSlide:typeof e.heroSlide=="object"?e.heroSlide.id:e.heroSlide};return Q.definition.url.replace("{heroSlide}",n.heroSlide.toString()).replace(/\/+$/,"")+u(i)};Q.delete=(e,i)=>({url:Q.url(e,i),method:"delete"});const Me=(e,i)=>({action:Q.url(e,{[i?.mergeQuery?"mergeQuery":"query"]:{_method:"DELETE",...i?.query??i?.mergeQuery??{}}}),method:"post"});Me.delete=(e,i)=>({action:Q.url(e,{[i?.mergeQuery?"mergeQuery":"query"]:{_method:"DELETE",...i?.query??i?.mergeQuery??{}}}),method:"post"});Q.form=Me;const A=(e,i)=>({url:A.url(e,i),method:"patch"});A.definition={methods:["patch"],url:"/api/admin/hero-slides/{heroSlide}/publish"};A.url=(e,i)=>{(typeof e=="string"||typeof e=="number")&&(e={heroSlide:e}),typeof e=="object"&&!Array.isArray(e)&&"id"in e&&(e={heroSlide:e.id}),Array.isArray(e)&&(e={heroSlide:e[0]}),e=R(e);const n={heroSlide:typeof e.heroSlide=="object"?e.heroSlide.id:e.heroSlide};return A.definition.url.replace("{heroSlide}",n.heroSlide.toString()).replace(/\/+$/,"")+u(i)};A.patch=(e,i)=>({url:A.url(e,i),method:"patch"});const Oe=(e,i)=>({action:A.url(e,{[i?.mergeQuery?"mergeQuery":"query"]:{_method:"PATCH",...i?.query??i?.mergeQuery??{}}}),method:"post"});Oe.patch=(e,i)=>({action:A.url(e,{[i?.mergeQuery?"mergeQuery":"query"]:{_method:"PATCH",...i?.query??i?.mergeQuery??{}}}),method:"post"});A.form=Oe;const k=e=>({url:k.url(e),method:"patch"});k.definition={methods:["patch"],url:"/api/admin/hero-slides/reorder"};k.url=e=>k.definition.url+u(e);k.patch=e=>({url:k.url(e),method:"patch"});const Re=e=>({action:k.url({[e?.mergeQuery?"mergeQuery":"query"]:{_method:"PATCH",...e?.query??e?.mergeQuery??{}}}),method:"post"});Re.patch=e=>({action:k.url({[e?.mergeQuery?"mergeQuery":"query"]:{_method:"PATCH",...e?.query??e?.mergeQuery??{}}}),method:"post"});k.form=Re;const N=e=>({url:N.url(e),method:"get"});N.definition={methods:["get","head"],url:"/api/hero-slides"};N.url=e=>N.definition.url+u(e);N.get=e=>({url:N.url(e),method:"get"});N.head=e=>({url:N.url(e),method:"head"});const de=e=>({action:N.url(e),method:"get"});de.get=e=>({action:N.url(e),method:"get"});de.head=e=>({action:N.url({[e?.mergeQuery?"mergeQuery":"query"]:{_method:"HEAD",...e?.query??e?.mergeQuery??{}}}),method:"get"});N.form=de;const b=e=>({url:b.url(e),method:"get"});b.definition={methods:["get","head"],url:"/api/admin/featured-properties"};b.url=e=>b.definition.url+u(e);b.get=e=>({url:b.url(e),method:"get"});b.head=e=>({url:b.url(e),method:"head"});const ce=e=>({action:b.url(e),method:"get"});ce.get=e=>({action:b.url(e),method:"get"});ce.head=e=>({action:b.url({[e?.mergeQuery?"mergeQuery":"query"]:{_method:"HEAD",...e?.query??e?.mergeQuery??{}}}),method:"get"});b.form=ce;const q=e=>({url:q.url(e),method:"post"});q.definition={methods:["post"],url:"/api/admin/featured-properties"};q.url=e=>q.definition.url+u(e);q.post=e=>({url:q.url(e),method:"post"});const ze=e=>({action:q.url(e),method:"post"});ze.post=e=>({action:q.url(e),method:"post"});q.form=ze;const D=(e,i)=>({url:D.url(e,i),method:"put"});D.definition={methods:["put"],url:"/api/admin/featured-properties/{featuredProperty}"};D.url=(e,i)=>{(typeof e=="string"||typeof e=="number")&&(e={featuredProperty:e}),typeof e=="object"&&!Array.isArray(e)&&"id"in e&&(e={featuredProperty:e.id}),Array.isArray(e)&&(e={featuredProperty:e[0]}),e=R(e);const n={featuredProperty:typeof e.featuredProperty=="object"?e.featuredProperty.id:e.featuredProperty};return D.definition.url.replace("{featuredProperty}",n.featuredProperty.toString()).replace(/\/+$/,"")+u(i)};D.put=(e,i)=>({url:D.url(e,i),method:"put"});const Be=(e,i)=>({action:D.url(e,{[i?.mergeQuery?"mergeQuery":"query"]:{_method:"PUT",...i?.query??i?.mergeQuery??{}}}),method:"post"});Be.put=(e,i)=>({action:D.url(e,{[i?.mergeQuery?"mergeQuery":"query"]:{_method:"PUT",...i?.query??i?.mergeQuery??{}}}),method:"post"});D.form=Be;const F=(e,i)=>({url:F.url(e,i),method:"delete"});F.definition={methods:["delete"],url:"/api/admin/featured-properties/{featuredProperty}"};F.url=(e,i)=>{(typeof e=="string"||typeof e=="number")&&(e={featuredProperty:e}),typeof e=="object"&&!Array.isArray(e)&&"id"in e&&(e={featuredProperty:e.id}),Array.isArray(e)&&(e={featuredProperty:e[0]}),e=R(e);const n={featuredProperty:typeof e.featuredProperty=="object"?e.featuredProperty.id:e.featuredProperty};return F.definition.url.replace("{featuredProperty}",n.featuredProperty.toString()).replace(/\/+$/,"")+u(i)};F.delete=(e,i)=>({url:F.url(e,i),method:"delete"});const Ue=(e,i)=>({action:F.url(e,{[i?.mergeQuery?"mergeQuery":"query"]:{_method:"DELETE",...i?.query??i?.mergeQuery??{}}}),method:"post"});Ue.delete=(e,i)=>({action:F.url(e,{[i?.mergeQuery?"mergeQuery":"query"]:{_method:"DELETE",...i?.query??i?.mergeQuery??{}}}),method:"post"});F.form=Ue;const $=(e,i)=>({url:$.url(e,i),method:"patch"});$.definition={methods:["patch"],url:"/api/admin/featured-properties/{featuredProperty}/publish"};$.url=(e,i)=>{(typeof e=="string"||typeof e=="number")&&(e={featuredProperty:e}),typeof e=="object"&&!Array.isArray(e)&&"id"in e&&(e={featuredProperty:e.id}),Array.isArray(e)&&(e={featuredProperty:e[0]}),e=R(e);const n={featuredProperty:typeof e.featuredProperty=="object"?e.featuredProperty.id:e.featuredProperty};return $.definition.url.replace("{featuredProperty}",n.featuredProperty.toString()).replace(/\/+$/,"")+u(i)};$.patch=(e,i)=>({url:$.url(e,i),method:"patch"});const Je=(e,i)=>({action:$.url(e,{[i?.mergeQuery?"mergeQuery":"query"]:{_method:"PATCH",...i?.query??i?.mergeQuery??{}}}),method:"post"});Je.patch=(e,i)=>({action:$.url(e,{[i?.mergeQuery?"mergeQuery":"query"]:{_method:"PATCH",...i?.query??i?.mergeQuery??{}}}),method:"post"});$.form=Je;const T=e=>({url:T.url(e),method:"patch"});T.definition={methods:["patch"],url:"/api/admin/featured-properties/reorder"};T.url=e=>T.definition.url+u(e);T.patch=e=>({url:T.url(e),method:"patch"});const We=e=>({action:T.url({[e?.mergeQuery?"mergeQuery":"query"]:{_method:"PATCH",...e?.query??e?.mergeQuery??{}}}),method:"post"});We.patch=e=>({action:T.url({[e?.mergeQuery?"mergeQuery":"query"]:{_method:"PATCH",...e?.query??e?.mergeQuery??{}}}),method:"post"});T.form=We;const S=e=>({url:S.url(e),method:"get"});S.definition={methods:["get","head"],url:"/api/featured-properties"};S.url=e=>S.definition.url+u(e);S.get=e=>({url:S.url(e),method:"get"});S.head=e=>({url:S.url(e),method:"head"});const ue=e=>({action:S.url(e),method:"get"});ue.get=e=>({action:S.url(e),method:"get"});ue.head=e=>({action:S.url({[e?.mergeQuery?"mergeQuery":"query"]:{_method:"HEAD",...e?.query??e?.mergeQuery??{}}}),method:"get"});S.form=ue;const cr=()=>document.querySelector('meta[name="csrf-token"]')?.content??"";async function f(e,i){const n=(e.method??"get").toUpperCase(),H=new Headers(i?.headers);["POST","PUT","PATCH","DELETE"].includes(n)&&(H.has("X-CSRF-TOKEN")||H.set("X-CSRF-TOKEN",cr()));const g=await fetch(e.url,{method:n,credentials:"same-origin",...i,headers:H});if(!g.ok){const C=await g.text();throw new Error(C||`HTTP ${g.status}`)}return(g.headers.get("content-type")||"").includes("application/json")?g.json():null}function Or(){const[e,i]=s.useState([]),[n,H]=s.useState(!1),[g,z]=s.useState(null),[C,d]=s.useState([]),[me,he]=s.useState(!1),[o,v]=s.useState({}),[ur,pe]=s.useState(!1),[xe,ge]=s.useState(!1),[mr,hr]=s.useState(null),[pr,xr]=s.useState({}),[gr,fr]=s.useState(!1),[K,fe]=s.useState([]),[ye,je]=s.useState(!1),[l,p]=s.useState({features:[]}),[be,ve]=s.useState(""),[yr,Ne]=s.useState(!1),[jr,br]=s.useState(null),[vr,Nr]=s.useState({}),[Sr,wr]=s.useState(!1),[Se,B]=s.useState(!1),[we,U]=s.useState(null),[G,J]=s.useState(null),[V,Ce]=s.useState("publicacoes");s.useEffect(()=>{Ge()},[]),s.useEffect(()=>{try{document.documentElement.classList.remove("dark")}catch{}},[]);const Pe=t=>{const a=t.replace(/\D/g,"");if(!a)return"";const m=Number(a)/100;try{return m.toLocaleString("pt-BR",{style:"currency",currency:"BRL"})}catch{return`R$ ${m.toFixed(2)}`}},_e=t=>{const a=t.replace(/\D/g,"");if(!a)return"";const m=parseInt(a,10);try{return`${m.toLocaleString("pt-BR")} m²`}catch{return`${m} m²`}},Ge=async()=>{await Promise.all([ee(),W(),X()])},ee=async()=>{pe(!0);try{const t=await f(y());i(t)}catch(t){J({type:"error",title:"Falha ao carregar imagens",message:t instanceof Error?t.message:String(t)})}finally{pe(!1)}},W=async()=>{ge(!0);try{const t=await f(j());d(t)}catch(t){J({type:"error",title:"Falha ao carregar slides",message:t instanceof Error?t.message:String(t)})}finally{ge(!1)}},X=async()=>{Ne(!0);try{const t=await f(b());fe(t)}catch(t){J({type:"error",title:"Falha ao carregar destaques",message:t instanceof Error?t.message:String(t)})}finally{Ne(!1)}},Xe=async()=>{if(!g||g.length===0)return;const t=new FormData;Array.from(g).forEach(a=>t.append("images[]",a)),H(!0);try{await f(P(),{body:t}),z(null),await ee(),J({type:"success",title:"Imagens enviadas com sucesso"})}finally{H(!1)}},Ke=async t=>{confirm("Excluir esta imagem?")&&(await f(_(t)),await ee())},Ve=async()=>{if(!o.image_id||!o.title||!o.price){alert("Selecione uma imagem, título e preço.");return}he(!0);try{const t=JSON.stringify({image_id:o.image_id,title:o.title,subtitle:o.subtitle??null,price:o.price,bedrooms:o.bedrooms??null,bathrooms:o.bathrooms??null,area:o.area??null,neighborhood:o.neighborhood??null,is_new:!!o.is_new,is_published:!!o.is_published});await f(E(),{body:t,headers:{"Content-Type":"application/json"}}),v({}),await W(),J({type:"success",title:"Slide adicionado"})}finally{he(!1)}},Ye=async t=>{await f(A({heroSlide:t})),await W()},Ze=async t=>{confirm("Excluir este slide?")&&(await f(Q({heroSlide:t})),await W())},Ee=async(t,a)=>{const m=C.findIndex(M=>M.id===t);if(m<0)return;const L=m+a;if(L<0||L>=C.length)return;const w=C.slice(),[re]=w.splice(m,1);w.splice(L,0,re),d(w);const te=w.map(M=>M.id);await f(k.patch(),{body:JSON.stringify({ids:te}),headers:{"Content-Type":"application/json"}}),await W()},er=async()=>{if(!l.image_id||!l.title||!l.price){alert("Selecione uma imagem, título e preço.");return}je(!0);try{const t=JSON.stringify({image_id:l.image_id,title:l.title,neighborhood:l.neighborhood??null,price:l.price,bedrooms:l.bedrooms??null,bathrooms:l.bathrooms??null,area:l.area??null,type:l.type??null,features:l.features??[],price_range:l.price_range??null,is_new:!!l.is_new,is_published:!!l.is_published});await f(q(),{body:t,headers:{"Content-Type":"application/json"}}),p({}),await X(),J({type:"success",title:"Destaque adicionado"})}finally{je(!1)}},rr=async t=>{await f($({featuredProperty:t})),await X()},tr=async t=>{confirm("Excluir este destaque?")&&(await f(F({featuredProperty:t})),await X())},Qe=async(t,a)=>{const m=K.findIndex(M=>M.id===t);if(m<0)return;const L=m+a;if(L<0||L>=K.length)return;const w=K.slice(),[re]=w.splice(m,1);w.splice(L,0,re),fe(w);const te=w.map(M=>M.id);await f(T.patch(),{body:JSON.stringify({ids:te}),headers:{"Content-Type":"application/json"}}),await X()},Ae=s.useMemo(()=>e.map(t=>({value:t.id,label:`${t.id} — ${t.original_name}`})),[e]);return r.jsxs("div",{className:"old-site",children:[r.jsx(ir,{title:"Painel"}),r.jsx(lr,{}),r.jsxs("div",{className:"container-responsive section-spacing pt-24 flex flex-col gap-6",children:[G&&r.jsxs(or,{variant:G.type==="error"?"destructive":"default",children:[r.jsx(nr,{children:G.title}),G.message&&r.jsx(dr,{children:G.message})]}),r.jsx("div",{className:"mb-4 border-b",children:r.jsxs("div",{className:"flex gap-2",children:[r.jsx("button",{type:"button",onClick:()=>Ce("publicacoes"),className:`px-4 py-2 -mb-px border-b-2 ${V==="publicacoes"?"border-primary text-primary":"border-transparent text-muted-foreground hover:text-foreground"}`,children:"Publicações"}),r.jsx("button",{type:"button",onClick:()=>Ce("images"),className:`px-4 py-2 -mb-px border-b-2 ${V==="images"?"border-primary text-primary":"border-transparent text-muted-foreground hover:text-foreground"}`,children:"Imagens"})]})}),V==="images"&&r.jsxs(ie,{children:[r.jsx(ae,{children:r.jsx(le,{children:"Gerenciar Imagens"})}),r.jsxs(se,{className:"space-y-4",children:[r.jsxs("div",{className:"flex flex-col gap-2 sm:flex-row sm:items-end",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx(c,{htmlFor:"images",children:"Enviar imagens (até 20 por vez)"}),r.jsx(h,{id:"images",type:"file",multiple:!0,accept:"image/*",onChange:t=>z(t.target.files)})]}),r.jsx("div",{children:r.jsx(x,{onClick:Xe,disabled:n||!g||g.length===0,children:n?"Enviando…":"Enviar"})})]}),e.length>0?r.jsx("div",{className:"grid grid-cols-2 gap-3 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-6",children:e.map(t=>r.jsxs("div",{className:"group relative overflow-hidden rounded-md border",children:[r.jsx("img",{src:t.url,alt:t.original_name,className:"h-36 w-full object-cover"}),r.jsxs("div",{className:"absolute inset-x-0 bottom-0 flex items-center justify-between bg-black/50 p-1 text-xs text-white opacity-0 transition group-hover:opacity-100",children:[r.jsx("span",{className:"truncate",title:t.original_name,children:t.original_name}),r.jsx("button",{className:"rounded bg-red-600 px-2 py-0.5 text-[11px]",onClick:()=>Ke(t.id),children:"Excluir"})]})]},t.id))}):r.jsx("p",{className:"text-sm text-muted-foreground",children:"Nenhuma imagem enviada ainda."})]})]}),V==="publicacoes"&&r.jsxs(r.Fragment,{children:[r.jsxs(ie,{children:[r.jsx(ae,{children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx(le,{children:"Hero Slides"}),r.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[r.jsx("span",{children:xe?"Carregando…":`${C.length} itens`}),r.jsx(x,{variant:"secondary",onClick:W,disabled:xe,children:"Atualizar"})]})]})}),r.jsxs(se,{className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-1 gap-3 md:grid-cols-4",children:[r.jsxs("div",{children:[r.jsx(c,{children:"Imagem"}),r.jsxs("select",{className:"mt-1 w-full rounded-md border bg-background p-2",value:o.image_id??"",onChange:t=>v(a=>({...a,image_id:Number(t.target.value)})),children:[r.jsx("option",{value:"",disabled:!0,children:"Selecione…"}),Ae.map(t=>r.jsx("option",{value:t.value,children:t.label},t.value))]}),r.jsxs("div",{className:"mt-2 flex items-center gap-2",children:[r.jsxs(ke,{open:Se&&we==="featured",onOpenChange:t=>{B(t),t||U(null)},children:[r.jsx(qe,{asChild:!0,children:r.jsx(x,{type:"button",variant:"secondary",onClick:()=>{U("featured"),B(!0)},children:"Selecionar da galeria"})}),r.jsxs(Fe,{className:"sm:max-w-3xl",children:[r.jsx($e,{children:r.jsx(Te,{children:"Escolher imagem"})}),r.jsx("div",{className:"grid grid-cols-2 gap-3 sm:grid-cols-3 md:grid-cols-4",children:e.map(t=>r.jsx("button",{type:"button",className:"overflow-hidden rounded-md border focus:outline-none focus:ring-2 focus:ring-ring",onClick:()=>{p(a=>({...a,image_id:t.id})),B(!1),U(null)},children:r.jsx("img",{src:t.url,alt:t.original_name,className:"h-28 w-full object-cover"})},t.id))})]})]}),l.image_id&&r.jsx("img",{src:e.find(t=>t.id===l.image_id)?.url,alt:"Selecionada",className:"h-10 w-14 rounded object-cover"})]}),r.jsxs("div",{className:"mt-2 flex items-center gap-2",children:[r.jsxs(ke,{open:Se&&we==="slide",onOpenChange:t=>{B(t),t||U(null)},children:[r.jsx(qe,{asChild:!0,children:r.jsx(x,{type:"button",variant:"secondary",onClick:()=>{U("slide"),B(!0)},children:"Selecionar da galeria"})}),r.jsxs(Fe,{className:"sm:max-w-3xl",children:[r.jsx($e,{children:r.jsx(Te,{children:"Escolher imagem"})}),r.jsx("div",{className:"grid grid-cols-2 gap-3 sm:grid-cols-3 md:grid-cols-4",children:e.map(t=>r.jsx("button",{type:"button",className:"overflow-hidden rounded-md border focus:outline-none focus:ring-2 focus:ring-ring",onClick:()=>{v(a=>({...a,image_id:t.id})),B(!1),U(null)},children:r.jsx("img",{src:t.url,alt:t.original_name,className:"h-28 w-full object-cover"})},t.id))})]})]}),o.image_id&&r.jsx("img",{src:e.find(t=>t.id===o.image_id)?.url,alt:"Selecionada",className:"h-10 w-14 rounded object-cover"})]})]}),r.jsxs("div",{children:[r.jsx(c,{children:"Título"}),r.jsx(h,{value:o.title??"",onChange:t=>v(a=>({...a,title:t.target.value})),placeholder:"Ex: Casa moderna no Setor Marista"})]}),r.jsxs("div",{children:[r.jsx(c,{children:"Preço"}),r.jsx(h,{value:o.price??"",onChange:t=>v(a=>({...a,price:Pe(t.target.value)})),inputMode:"numeric",placeholder:"Ex: R$ 1.250.000,00"})]}),r.jsx("div",{className:"flex items-end gap-2",children:r.jsx(x,{onClick:Ve,disabled:me,children:me?"Adicionando…":"Adicionar Slide"})})]}),r.jsxs("div",{className:"grid grid-cols-1 gap-3 md:grid-cols-5",children:[r.jsxs("div",{children:[r.jsx(c,{children:"Subtítulo"}),r.jsx(h,{value:o.subtitle??"",onChange:t=>v(a=>({...a,subtitle:t.target.value})),placeholder:"Ex: Próximo ao Flamboyant"})]}),r.jsxs("div",{children:[r.jsx(c,{children:"Quartos"}),r.jsx(h,{type:"number",min:0,value:o.bedrooms??"",onChange:t=>v(a=>({...a,bedrooms:Number(t.target.value||0)})),inputMode:"numeric",placeholder:"Ex: 3"})]}),r.jsxs("div",{children:[r.jsx(c,{children:"Banheiros"}),r.jsx(h,{type:"number",min:0,value:o.bathrooms??"",onChange:t=>v(a=>({...a,bathrooms:Number(t.target.value||0)})),inputMode:"numeric",placeholder:"Ex: 2"})]}),r.jsxs("div",{children:[r.jsx(c,{children:"Área"}),r.jsx(h,{value:o.area??"",onChange:t=>v(a=>({...a,area:_e(t.target.value)})),inputMode:"numeric",placeholder:"Ex: 120 m²"})]}),r.jsxs("div",{children:[r.jsx(c,{children:"Bairro"}),r.jsx(h,{value:o.neighborhood??"",onChange:t=>v(a=>({...a,neighborhood:t.target.value})),placeholder:"Ex: Setor Marista"})]})]}),r.jsxs("div",{className:"flex items-center gap-6",children:[r.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[r.jsx("input",{type:"checkbox",checked:!!o.is_new,onChange:t=>v(a=>({...a,is_new:t.target.checked}))}),"Novo"]}),r.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[r.jsx("input",{type:"checkbox",checked:!!o.is_published,onChange:t=>v(a=>({...a,is_published:t.target.checked}))}),"Publicado"]})]}),r.jsx("div",{className:"grid grid-cols-1 gap-3 md:grid-cols-2 lg:grid-cols-3",children:C.map(t=>r.jsxs("div",{className:"overflow-hidden rounded-md border",children:[t.image_url?r.jsx("img",{src:t.image_url,alt:t.title,className:"h-40 w-full object-cover"}):r.jsx("div",{className:"h-40 w-full bg-muted"}),r.jsxs("div",{className:"flex items-center justify-between gap-2 p-2",children:[r.jsxs("div",{className:"min-w-0",children:[r.jsx("div",{className:"truncate font-medium",title:t.title,children:t.title}),r.jsx("div",{className:"text-xs text-muted-foreground",children:t.price})]}),r.jsxs("div",{className:"flex shrink-0 items-center gap-1",children:[r.jsx(x,{variant:"secondary",onClick:()=>Ee(t.id,-1),title:"Subir",children:"↑"}),r.jsx(x,{variant:"secondary",onClick:()=>Ee(t.id,1),title:"Descer",children:"↓"}),r.jsx(x,{variant:t.is_published?"default":"secondary",onClick:()=>Ye(t.id),title:"Publicar/Despublicar",children:t.is_published?"Publicado":"Rascunho"}),r.jsx(x,{variant:"destructive",onClick:()=>Ze(t.id),title:"Excluir",children:"Excluir"})]})]})]},t.id))})]})]}),r.jsxs(ie,{children:[r.jsx(ae,{children:r.jsx(le,{children:"Imóveis em Destaque"})}),r.jsxs(se,{className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-1 gap-3 md:grid-cols-5",children:[r.jsxs("div",{children:[r.jsx(c,{children:"Imagem"}),r.jsxs("select",{className:"mt-1 w-full rounded-md border bg-background p-2",value:l.image_id??"",onChange:t=>p(a=>({...a,image_id:Number(t.target.value)})),children:[r.jsx("option",{value:"",disabled:!0,children:"Selecione…"}),Ae.map(t=>r.jsx("option",{value:t.value,children:t.label},t.value))]})]}),r.jsxs("div",{children:[r.jsx(c,{children:"Título"}),r.jsx(h,{value:l.title??"",onChange:t=>p(a=>({...a,title:t.target.value})),placeholder:"Ex: Apartamento premium Jardim Goiás"})]}),r.jsxs("div",{children:[r.jsx(c,{children:"Bairro"}),r.jsx(h,{value:l.neighborhood??"",onChange:t=>p(a=>({...a,neighborhood:t.target.value})),placeholder:"Ex: Jardim Goiás"})]}),r.jsxs("div",{children:[r.jsx(c,{children:"Preço"}),r.jsx(h,{value:l.price??"",onChange:t=>p(a=>({...a,price:Pe(t.target.value)})),inputMode:"numeric",placeholder:"Ex: R$ 950.000,00"})]}),r.jsx("div",{className:"flex items-end gap-2",children:r.jsx(x,{onClick:er,disabled:ye,children:ye?"Adicionando…":"Adicionar Destaque"})})]}),r.jsxs("div",{className:"grid grid-cols-1 gap-3 md:grid-cols-6",children:[r.jsxs("div",{children:[r.jsx(c,{children:"Quartos"}),r.jsx(h,{type:"number",min:0,value:l.bedrooms??"",onChange:t=>p(a=>({...a,bedrooms:Number(t.target.value||0)})),inputMode:"numeric",placeholder:"Ex: 3"})]}),r.jsxs("div",{children:[r.jsx(c,{children:"Banheiros"}),r.jsx(h,{type:"number",min:0,value:l.bathrooms??"",onChange:t=>p(a=>({...a,bathrooms:Number(t.target.value||0)})),inputMode:"numeric",placeholder:"Ex: 2"})]}),r.jsxs("div",{children:[r.jsx(c,{children:"Área"}),r.jsx(h,{value:l.area??"",onChange:t=>p(a=>({...a,area:_e(t.target.value)})),inputMode:"numeric",placeholder:"Ex: 120 m²"})]}),r.jsxs("div",{children:[r.jsx(c,{children:"Tipo"}),r.jsxs("select",{className:"mt-1 w-full rounded-md border bg-background p-2",value:l.type??"",onChange:t=>p(a=>({...a,type:t.target.value})),children:[r.jsx("option",{value:"",children:"Selecione…"}),r.jsx("option",{value:"casa",children:"Casa"}),r.jsx("option",{value:"apartamento",children:"Apartamento"}),r.jsx("option",{value:"sobrado",children:"Sobrado"}),r.jsx("option",{value:"cobertura",children:"Cobertura"})]})]}),r.jsxs("div",{children:[r.jsx(c,{children:"Faixa de preço"}),r.jsx(h,{value:l.price_range??"",onChange:t=>p(a=>({...a,price_range:t.target.value})),placeholder:"Ex: 800000-1200000"})]}),r.jsxs("div",{children:[r.jsx(c,{children:"Recém lançado"}),r.jsxs("div",{className:"mt-2 flex items-center gap-4",children:[r.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[r.jsx("input",{type:"checkbox",checked:!!l.is_new,onChange:t=>p(a=>({...a,is_new:t.target.checked}))}),"Novo"]}),r.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[r.jsx("input",{type:"checkbox",checked:!!l.is_published,onChange:t=>p(a=>({...a,is_published:t.target.checked}))}),"Publicado"]})]})]})]}),r.jsxs("div",{children:[r.jsx(c,{children:"Características (features)"}),r.jsxs("div",{className:"mt-2 flex items-center gap-2",children:[r.jsx(h,{value:be,onChange:t=>ve(t.target.value),placeholder:"Ex: Piscina"}),r.jsx(x,{type:"button",variant:"secondary",onClick:()=>{const t=be.trim();t&&(p(a=>({...a,features:[...a.features??[],t]})),ve(""))},children:"Adicionar"})]}),(l.features??[]).length>0&&r.jsx("div",{className:"mt-2 flex flex-wrap gap-2",children:(l.features??[]).map((t,a)=>r.jsxs("span",{className:"inline-flex items-center gap-1 rounded-full bg-muted px-2 py-1 text-xs",children:[t,r.jsx("button",{type:"button",className:"text-muted-foreground hover:text-foreground",onClick:()=>p(m=>({...m,features:(m.features??[]).filter((L,w)=>w!==a)})),children:"×"})]},`${t}-${a}`))})]}),r.jsx("div",{className:"grid grid-cols-1 gap-3 md:grid-cols-2 lg:grid-cols-3",children:K.map(t=>r.jsxs("div",{className:"overflow-hidden rounded-md border",children:[t.image_url?r.jsx("img",{src:t.image_url,alt:t.title,className:"h-40 w-full object-cover"}):r.jsx("div",{className:"h-40 w-full bg-muted"}),r.jsxs("div",{className:"flex items-center justify-between gap-2 p-2",children:[r.jsxs("div",{className:"min-w-0",children:[r.jsx("div",{className:"truncate font-medium",title:t.title,children:t.title}),r.jsx("div",{className:"text-xs text-muted-foreground",children:t.price})]}),r.jsxs("div",{className:"flex shrink-0 items-center gap-1",children:[r.jsx(x,{variant:"secondary",onClick:()=>Qe(t.id,-1),title:"Subir",children:"Subir"}),r.jsx(x,{variant:"secondary",onClick:()=>Qe(t.id,1),title:"Descer",children:"Descer"}),r.jsx(x,{variant:t.is_published?"default":"secondary",onClick:()=>rr(t.id),title:"Publicar/Despublicar",children:t.is_published?"Publicado":"Rascunho"}),r.jsx(x,{variant:"destructive",onClick:()=>tr(t.id),title:"Excluir",children:"Excluir"})]})]})]},t.id))})]})]})]})]})]})}export{Or as default};
