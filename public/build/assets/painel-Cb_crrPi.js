import{r as o,j as r,H as sr}from"./app-B6UBdJlz.js";import{c as lr}from"./createLucideIcon-58k_o4f-.js";import{c as D,B as c}from"./button-CLsutRgt.js";import{D as Y,a as Z,b as ee,c as re,d as Fe,e as $e}from"./dialog-DodFjg5u.js";import{L as u,I as p}from"./label-BgyxxAyZ.js";import{I as te,B as ie}from"./oldsite-CzspC3_q.js";import{q as m,a as R}from"./index-CMWG4mbA.js";/* empty css            */import"./index-qwHhjsEX.js";import"./index-Cntsq0jI.js";import"./index-DjAV7yPG.js";import"./index-DoNjAw3K.js";import"./x-BEwBd_yL.js";import"./check-Cr0wOZ9l.js";import"./loader-circle-tNpaXH-S.js";import"./sun-DjU0hKlw.js";function Ie({src:e,titulo:i,subtitulo:n,preco:T,quartos:x,banheiros:O,area:w,bairro:d}){const[ae,se]=o.useState(1)}const or=lr("relative w-full rounded-lg border px-4 py-3 text-sm grid has-[>svg]:grid-cols-[calc(var(--spacing)*4)_1fr] grid-cols-[0_1fr] has-[>svg]:gap-x-3 gap-y-0.5 items-start [&>svg]:size-4 [&>svg]:translate-y-0.5 [&>svg]:text-current",{variants:{variant:{default:"bg-background text-foreground",destructive:"text-destructive-foreground [&>svg]:text-current *:data-[slot=alert-description]:text-destructive-foreground/80"}},defaultVariants:{variant:"default"}});function nr({className:e,variant:i,...n}){return r.jsx("div",{"data-slot":"alert",role:"alert",className:D(or({variant:i}),e),...n})}function dr({className:e,...i}){return r.jsx("div",{"data-slot":"alert-title",className:D("col-start-2 line-clamp-1 min-h-4 font-medium tracking-tight",e),...i})}function cr({className:e,...i}){return r.jsx("div",{"data-slot":"alert-description",className:D("text-muted-foreground col-start-2 grid justify-items-start gap-1 text-sm [&_p]:leading-relaxed",e),...i})}function ur({className:e,...i}){return r.jsx("div",{"data-slot":"card",className:D("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",e),...i})}function mr({className:e,...i}){return r.jsx("div",{"data-slot":"card-header",className:D("flex flex-col gap-1.5 px-6",e),...i})}function hr({className:e,...i}){return r.jsx("div",{"data-slot":"card-title",className:D("leading-none font-semibold",e),...i})}function pr({className:e,...i}){return r.jsx("div",{"data-slot":"card-content",className:D("px-6",e),...i})}function xr(){const[e,i]=o.useState(!1),[n,T]=o.useState(!1);o.useEffect(()=>{const d=()=>T(window.scrollY>10);return window.addEventListener("scroll",d),()=>window.removeEventListener("scroll",d)},[]);const x=[{name:"Início",path:"/",icon:"Home"},{name:"Sobre Nós",path:"/about-brand-story-credentials",icon:"Users"},{name:"FAQ",path:"/faq-comprehensive-buyer-education",icon:"HelpCircle"},{name:"Painel",path:"/painel",icon:"Image",external:!0}],O=d=>window.location?.pathname===d,w=()=>{const d=encodeURIComponent("Olá! Gostaria de saber mais sobre os imóveis disponíveis.");window.open(`https://wa.me/5562999999999?text=${d}`,"_blank")};return r.jsx("header",{className:`fixed top-0 left-0 right-0 z-50 transition-all duration-200 ${n?"bg-white/95 backdrop-blur-sm shadow-subtle":"bg-white"}`,children:r.jsxs("div",{className:"w-full",children:[r.jsxs("div",{className:"flex h-16 items-center justify-between px-4 sm:px-6 lg:px-8",children:[r.jsxs("a",{href:"/",className:"flex items-center space-x-3 transition-opacity hover:opacity-80",children:[r.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-lg bg-gradient-to-br from-primary to-secondary",children:r.jsx(te,{name:"Home",size:24,color:"white",strokeWidth:2.5})}),r.jsxs("div",{className:"hidden sm:block",children:[r.jsx("h1",{className:"text-xl font-bold text-text-primary",children:"Casa Conecta"}),r.jsx("p",{className:"text-xs font-medium text-text-secondary",children:"Imóveis Premium"})]})]}),r.jsx("nav",{className:"hidden items-center space-x-8 lg:flex",children:x.map(d=>r.jsxs("a",{href:d.path,className:`flex items-center space-x-2 rounded-md px-3 py-2 text-sm font-medium transition-all duration-200 ${O(d.path)?"bg-primary/10 text-primary":"text-text-secondary hover:bg-primary/5 hover:text-primary"}`,children:[r.jsx(te,{name:d.icon,size:18}),r.jsx("span",{children:d.name})]},d.path))}),r.jsxs("div",{className:"hidden items-center space-x-4 lg:flex",children:[r.jsx(ie,{variant:"outline",size:"sm",iconName:"Phone",iconPosition:"left",onClick:()=>window.open("tel:+5562999999999"),className:"border-border text-text-secondary hover:border-primary hover:text-primary",children:"(62) 99999-9999"}),r.jsx(ie,{variant:"default",size:"sm",iconName:"MessageCircle",iconPosition:"left",onClick:w,className:"bg-accent hover:bg-accent/90",children:"WhatsApp"})]}),r.jsx("button",{onClick:()=>i(d=>!d),className:"rounded-md p-2 text-text-secondary transition-colors hover:bg-primary/5 hover:text-primary lg:hidden","aria-label":"Toggle mobile menu",children:r.jsx(te,{name:e?"X":"Menu",size:24})})]}),e&&r.jsx("div",{className:"border-border bg-white lg:hidden",children:r.jsxs("div",{className:"space-y-3 px-4 py-4",children:[x.map(d=>r.jsxs("a",{href:d.path,onClick:()=>i(!1),className:`flex items-center space-x-3 rounded-md px-3 py-3 text-sm font-medium transition-all duration-200 ${O(d.path)?"bg-primary/10 text-primary":"text-text-secondary hover:bg-primary/5 hover:text-primary"}`,children:[r.jsx(te,{name:d.icon,size:20}),r.jsx("span",{children:d.name})]},d.path)),r.jsxs("div",{className:"space-y-3 border-t border-border pt-4",children:[r.jsx(ie,{variant:"outline",size:"sm",iconName:"Phone",iconPosition:"left",onClick:()=>{window.open("tel:+5562999999999"),i(!1)},fullWidth:!0,className:"justify-start border-border text-text-secondary hover:border-primary hover:text-primary",children:"(62) 99999-9999"}),r.jsx(ie,{variant:"default",size:"sm",iconName:"MessageCircle",iconPosition:"left",onClick:()=>{w(),i(!1)},fullWidth:!0,className:"justify-start bg-accent hover:bg-accent/90",children:"Falar no WhatsApp"})]})]})})]})})}const y=e=>({url:y.url(e),method:"get"});y.definition={methods:["get","head"],url:"/api/admin/featured-properties"};y.url=e=>y.definition.url+m(e);y.get=e=>({url:y.url(e),method:"get"});y.head=e=>({url:y.url(e),method:"head"});const ue=e=>({action:y.url(e),method:"get"});ue.get=e=>({action:y.url(e),method:"get"});ue.head=e=>({action:y.url({[e?.mergeQuery?"mergeQuery":"query"]:{_method:"HEAD",...e?.query??e?.mergeQuery??{}}}),method:"get"});y.form=ue;const P=e=>({url:P.url(e),method:"post"});P.definition={methods:["post"],url:"/api/admin/featured-properties"};P.url=e=>P.definition.url+m(e);P.post=e=>({url:P.url(e),method:"post"});const Te=e=>({action:P.url(e),method:"post"});Te.post=e=>({action:P.url(e),method:"post"});P.form=Te;const H=(e,i)=>({url:H.url(e,i),method:"put"});H.definition={methods:["put"],url:"/api/admin/featured-properties/{featuredProperty}"};H.url=(e,i)=>{(typeof e=="string"||typeof e=="number")&&(e={featuredProperty:e}),typeof e=="object"&&!Array.isArray(e)&&"id"in e&&(e={featuredProperty:e.id}),Array.isArray(e)&&(e={featuredProperty:e[0]}),e=R(e);const n={featuredProperty:typeof e.featuredProperty=="object"?e.featuredProperty.id:e.featuredProperty};return H.definition.url.replace("{featuredProperty}",n.featuredProperty.toString()).replace(/\/+$/,"")+m(i)};H.put=(e,i)=>({url:H.url(e,i),method:"put"});const De=(e,i)=>({action:H.url(e,{[i?.mergeQuery?"mergeQuery":"query"]:{_method:"PUT",...i?.query??i?.mergeQuery??{}}}),method:"post"});De.put=(e,i)=>({action:H.url(e,{[i?.mergeQuery?"mergeQuery":"query"]:{_method:"PUT",...i?.query??i?.mergeQuery??{}}}),method:"post"});H.form=De;const _=(e,i)=>({url:_.url(e,i),method:"delete"});_.definition={methods:["delete"],url:"/api/admin/featured-properties/{featuredProperty}"};_.url=(e,i)=>{(typeof e=="string"||typeof e=="number")&&(e={featuredProperty:e}),typeof e=="object"&&!Array.isArray(e)&&"id"in e&&(e={featuredProperty:e.id}),Array.isArray(e)&&(e={featuredProperty:e[0]}),e=R(e);const n={featuredProperty:typeof e.featuredProperty=="object"?e.featuredProperty.id:e.featuredProperty};return _.definition.url.replace("{featuredProperty}",n.featuredProperty.toString()).replace(/\/+$/,"")+m(i)};_.delete=(e,i)=>({url:_.url(e,i),method:"delete"});const He=(e,i)=>({action:_.url(e,{[i?.mergeQuery?"mergeQuery":"query"]:{_method:"DELETE",...i?.query??i?.mergeQuery??{}}}),method:"post"});He.delete=(e,i)=>({action:_.url(e,{[i?.mergeQuery?"mergeQuery":"query"]:{_method:"DELETE",...i?.query??i?.mergeQuery??{}}}),method:"post"});_.form=He;const E=(e,i)=>({url:E.url(e,i),method:"patch"});E.definition={methods:["patch"],url:"/api/admin/featured-properties/{featuredProperty}/publish"};E.url=(e,i)=>{(typeof e=="string"||typeof e=="number")&&(e={featuredProperty:e}),typeof e=="object"&&!Array.isArray(e)&&"id"in e&&(e={featuredProperty:e.id}),Array.isArray(e)&&(e={featuredProperty:e[0]}),e=R(e);const n={featuredProperty:typeof e.featuredProperty=="object"?e.featuredProperty.id:e.featuredProperty};return E.definition.url.replace("{featuredProperty}",n.featuredProperty.toString()).replace(/\/+$/,"")+m(i)};E.patch=(e,i)=>({url:E.url(e,i),method:"patch"});const Le=(e,i)=>({action:E.url(e,{[i?.mergeQuery?"mergeQuery":"query"]:{_method:"PATCH",...i?.query??i?.mergeQuery??{}}}),method:"post"});Le.patch=(e,i)=>({action:E.url(e,{[i?.mergeQuery?"mergeQuery":"query"]:{_method:"PATCH",...i?.query??i?.mergeQuery??{}}}),method:"post"});E.form=Le;const Q=e=>({url:Q.url(e),method:"patch"});Q.definition={methods:["patch"],url:"/api/admin/featured-properties/reorder"};Q.url=e=>Q.definition.url+m(e);Q.patch=e=>({url:Q.url(e),method:"patch"});const Me=e=>({action:Q.url({[e?.mergeQuery?"mergeQuery":"query"]:{_method:"PATCH",...e?.query??e?.mergeQuery??{}}}),method:"post"});Me.patch=e=>({action:Q.url({[e?.mergeQuery?"mergeQuery":"query"]:{_method:"PATCH",...e?.query??e?.mergeQuery??{}}}),method:"post"});Q.form=Me;const v=e=>({url:v.url(e),method:"get"});v.definition={methods:["get","head"],url:"/api/featured-properties"};v.url=e=>v.definition.url+m(e);v.get=e=>({url:v.url(e),method:"get"});v.head=e=>({url:v.url(e),method:"head"});const me=e=>({action:v.url(e),method:"get"});me.get=e=>({action:v.url(e),method:"get"});me.head=e=>({action:v.url({[e?.mergeQuery?"mergeQuery":"query"]:{_method:"HEAD",...e?.query??e?.mergeQuery??{}}}),method:"get"});v.form=me;const j=e=>({url:j.url(e),method:"get"});j.definition={methods:["get","head"],url:"/api/admin/hero-slides"};j.url=e=>j.definition.url+m(e);j.get=e=>({url:j.url(e),method:"get"});j.head=e=>({url:j.url(e),method:"head"});const he=e=>({action:j.url(e),method:"get"});he.get=e=>({action:j.url(e),method:"get"});he.head=e=>({action:j.url({[e?.mergeQuery?"mergeQuery":"query"]:{_method:"HEAD",...e?.query??e?.mergeQuery??{}}}),method:"get"});j.form=he;const A=e=>({url:A.url(e),method:"post"});A.definition={methods:["post"],url:"/api/admin/hero-slides"};A.url=e=>A.definition.url+m(e);A.post=e=>({url:A.url(e),method:"post"});const Oe=e=>({action:A.url(e),method:"post"});Oe.post=e=>({action:A.url(e),method:"post"});A.form=Oe;const L=(e,i)=>({url:L.url(e,i),method:"put"});L.definition={methods:["put"],url:"/api/admin/hero-slides/{heroSlide}"};L.url=(e,i)=>{(typeof e=="string"||typeof e=="number")&&(e={heroSlide:e}),typeof e=="object"&&!Array.isArray(e)&&"id"in e&&(e={heroSlide:e.id}),Array.isArray(e)&&(e={heroSlide:e[0]}),e=R(e);const n={heroSlide:typeof e.heroSlide=="object"?e.heroSlide.id:e.heroSlide};return L.definition.url.replace("{heroSlide}",n.heroSlide.toString()).replace(/\/+$/,"")+m(i)};L.put=(e,i)=>({url:L.url(e,i),method:"put"});const ze=(e,i)=>({action:L.url(e,{[i?.mergeQuery?"mergeQuery":"query"]:{_method:"PUT",...i?.query??i?.mergeQuery??{}}}),method:"post"});ze.put=(e,i)=>({action:L.url(e,{[i?.mergeQuery?"mergeQuery":"query"]:{_method:"PUT",...i?.query??i?.mergeQuery??{}}}),method:"post"});L.form=ze;const k=(e,i)=>({url:k.url(e,i),method:"delete"});k.definition={methods:["delete"],url:"/api/admin/hero-slides/{heroSlide}"};k.url=(e,i)=>{(typeof e=="string"||typeof e=="number")&&(e={heroSlide:e}),typeof e=="object"&&!Array.isArray(e)&&"id"in e&&(e={heroSlide:e.id}),Array.isArray(e)&&(e={heroSlide:e[0]}),e=R(e);const n={heroSlide:typeof e.heroSlide=="object"?e.heroSlide.id:e.heroSlide};return k.definition.url.replace("{heroSlide}",n.heroSlide.toString()).replace(/\/+$/,"")+m(i)};k.delete=(e,i)=>({url:k.url(e,i),method:"delete"});const Re=(e,i)=>({action:k.url(e,{[i?.mergeQuery?"mergeQuery":"query"]:{_method:"DELETE",...i?.query??i?.mergeQuery??{}}}),method:"post"});Re.delete=(e,i)=>({action:k.url(e,{[i?.mergeQuery?"mergeQuery":"query"]:{_method:"DELETE",...i?.query??i?.mergeQuery??{}}}),method:"post"});k.form=Re;const q=(e,i)=>({url:q.url(e,i),method:"patch"});q.definition={methods:["patch"],url:"/api/admin/hero-slides/{heroSlide}/publish"};q.url=(e,i)=>{(typeof e=="string"||typeof e=="number")&&(e={heroSlide:e}),typeof e=="object"&&!Array.isArray(e)&&"id"in e&&(e={heroSlide:e.id}),Array.isArray(e)&&(e={heroSlide:e[0]}),e=R(e);const n={heroSlide:typeof e.heroSlide=="object"?e.heroSlide.id:e.heroSlide};return q.definition.url.replace("{heroSlide}",n.heroSlide.toString()).replace(/\/+$/,"")+m(i)};q.patch=(e,i)=>({url:q.url(e,i),method:"patch"});const Be=(e,i)=>({action:q.url(e,{[i?.mergeQuery?"mergeQuery":"query"]:{_method:"PATCH",...i?.query??i?.mergeQuery??{}}}),method:"post"});Be.patch=(e,i)=>({action:q.url(e,{[i?.mergeQuery?"mergeQuery":"query"]:{_method:"PATCH",...i?.query??i?.mergeQuery??{}}}),method:"post"});q.form=Be;const F=e=>({url:F.url(e),method:"patch"});F.definition={methods:["patch"],url:"/api/admin/hero-slides/reorder"};F.url=e=>F.definition.url+m(e);F.patch=e=>({url:F.url(e),method:"patch"});const Ue=e=>({action:F.url({[e?.mergeQuery?"mergeQuery":"query"]:{_method:"PATCH",...e?.query??e?.mergeQuery??{}}}),method:"post"});Ue.patch=e=>({action:F.url({[e?.mergeQuery?"mergeQuery":"query"]:{_method:"PATCH",...e?.query??e?.mergeQuery??{}}}),method:"post"});F.form=Ue;const N=e=>({url:N.url(e),method:"get"});N.definition={methods:["get","head"],url:"/api/hero-slides"};N.url=e=>N.definition.url+m(e);N.get=e=>({url:N.url(e),method:"get"});N.head=e=>({url:N.url(e),method:"head"});const pe=e=>({action:N.url(e),method:"get"});pe.get=e=>({action:N.url(e),method:"get"});pe.head=e=>({action:N.url({[e?.mergeQuery?"mergeQuery":"query"]:{_method:"HEAD",...e?.query??e?.mergeQuery??{}}}),method:"get"});N.form=pe;const b=e=>({url:b.url(e),method:"get"});b.definition={methods:["get","head"],url:"/api/images"};b.url=e=>b.definition.url+m(e);b.get=e=>({url:b.url(e),method:"get"});b.head=e=>({url:b.url(e),method:"head"});const xe=e=>({action:b.url(e),method:"get"});xe.get=e=>({action:b.url(e),method:"get"});xe.head=e=>({action:b.url({[e?.mergeQuery?"mergeQuery":"query"]:{_method:"HEAD",...e?.query??e?.mergeQuery??{}}}),method:"get"});b.form=xe;const $=e=>({url:$.url(e),method:"post"});$.definition={methods:["post"],url:"/api/images"};$.url=e=>$.definition.url+m(e);$.post=e=>({url:$.url(e),method:"post"});const Ge=e=>({action:$.url(e),method:"post"});Ge.post=e=>({action:$.url(e),method:"post"});$.form=Ge;const I=(e,i)=>({url:I.url(e,i),method:"delete"});I.definition={methods:["delete"],url:"/api/images/{image}"};I.url=(e,i)=>{(typeof e=="string"||typeof e=="number")&&(e={image:e}),typeof e=="object"&&!Array.isArray(e)&&"id"in e&&(e={image:e.id}),Array.isArray(e)&&(e={image:e[0]}),e=R(e);const n={image:typeof e.image=="object"?e.image.id:e.image};return I.definition.url.replace("{image}",n.image.toString()).replace(/\/+$/,"")+m(i)};I.delete=(e,i)=>({url:I.url(e,i),method:"delete"});const Je=(e,i)=>({action:I.url(e,{[i?.mergeQuery?"mergeQuery":"query"]:{_method:"DELETE",...i?.query??i?.mergeQuery??{}}}),method:"post"});Je.delete=(e,i)=>({action:I.url(e,{[i?.mergeQuery?"mergeQuery":"query"]:{_method:"DELETE",...i?.query??i?.mergeQuery??{}}}),method:"post"});I.form=Je;const gr=()=>document.querySelector('meta[name="csrf-token"]')?.content??"";async function f(e,i){const n=(e.method??"get").toUpperCase(),T=new Headers(i?.headers);["POST","PUT","PATCH","DELETE"].includes(n)&&(T.has("X-CSRF-TOKEN")||T.set("X-CSRF-TOKEN",gr()));const x=await fetch(e.url,{method:n,credentials:"same-origin",...i,headers:T});if(!x.ok){const w=await x.text();throw new Error(w||`HTTP ${x.status}`)}return(x.headers.get("content-type")||"").includes("application/json")?x.json():null}function Gr(){const[e,i]=o.useState([]),[n,T]=o.useState(!1),[x,O]=o.useState(null),[w,d]=o.useState([]),[ae,se]=o.useState(!1),[l,S]=o.useState({}),[fr,ge]=o.useState(!1),[fe,ye]=o.useState(!1),[yr,jr]=o.useState(null),[br,vr]=o.useState({}),[Nr,wr]=o.useState(!1),[X,je]=o.useState([]),[be,ve]=o.useState(!1),[s,g]=o.useState({features:[]}),[Ne,we]=o.useState(""),[Se,Ce]=o.useState(!1),[Sr,Cr]=o.useState(null),[Pr,_r]=o.useState({}),[Er,Qr]=o.useState(!1),[We,le]=o.useState(!1),[Xe,oe]=o.useState(!1),[Pe,B]=o.useState(!1),[_e,U]=o.useState(null),[K,G]=o.useState(null),[V,Ee]=o.useState("publicacoes");o.useEffect(()=>{Ke()},[]),o.useEffect(()=>{try{document.documentElement.classList.remove("dark")}catch{}},[]);const Qe=t=>{const a=t.replace(/\D/g,"");if(!a)return"";const h=Number(a)/100;try{return h.toLocaleString("pt-BR",{style:"currency",currency:"BRL"})}catch{return`R$ ${h.toFixed(2)}`}},Ae=t=>{const a=t.replace(/\D/g,"");if(!a)return"";const h=parseInt(a,10);try{return`${h.toLocaleString("pt-BR")} m²`}catch{return`${h} m²`}},Ke=async()=>{await Promise.all([ne(),J(),W()])},ne=async()=>{ge(!0);try{const t=await f(b());i(t)}catch(t){G({type:"error",title:"Falha ao carregar imagens",message:t instanceof Error?t.message:String(t)})}finally{ge(!1)}},J=async()=>{ye(!0);try{const t=await f(j());d(t)}catch(t){G({type:"error",title:"Falha ao carregar slides",message:t instanceof Error?t.message:String(t)})}finally{ye(!1)}},W=async()=>{Ce(!0);try{const t=await f(y());je(t)}catch(t){G({type:"error",title:"Falha ao carregar destaques",message:t instanceof Error?t.message:String(t)})}finally{Ce(!1)}},Ve=async()=>{if(!x||x.length===0)return;const t=new FormData;Array.from(x).forEach(a=>t.append("images[]",a)),T(!0);try{await f($(),{body:t}),O(null),await ne(),G({type:"success",title:"Imagens enviadas com sucesso"})}finally{T(!1)}},Ye=async t=>{confirm("Excluir esta imagem?")&&(await f(I(t)),await ne())},Ze=async()=>{if(!l.image_id||!l.title||!l.price){alert("Selecione uma imagem, título e preço.");return}se(!0);try{const t=JSON.stringify({image_id:l.image_id,title:l.title,subtitle:l.subtitle??null,price:l.price,bedrooms:l.bedrooms??null,bathrooms:l.bathrooms??null,area:l.area??null,neighborhood:l.neighborhood??null,is_new:!!l.is_new,is_published:!!l.is_published});await f(A(),{body:t,headers:{"Content-Type":"application/json"}}),S({}),await J(),G({type:"success",title:"Slide adicionado"})}finally{se(!1)}},er=async t=>{await f(q({heroSlide:t})),await J()},rr=async t=>{confirm("Excluir este slide?")&&(await f(k({heroSlide:t})),await J())},ke=async(t,a)=>{const h=w.findIndex(z=>z.id===t);if(h<0)return;const M=h+a;if(M<0||M>=w.length)return;const C=w.slice(),[de]=C.splice(h,1);C.splice(M,0,de),d(C);const ce=C.map(z=>z.id);await f(F.patch(),{body:JSON.stringify({ids:ce}),headers:{"Content-Type":"application/json"}}),await J()},tr=async()=>{if(!s.image_id||!s.title||!s.price){alert("Selecione uma imagem, título e preço.");return}ve(!0);try{const t=JSON.stringify({image_id:s.image_id,title:s.title,neighborhood:s.neighborhood??null,price:s.price,bedrooms:s.bedrooms??null,bathrooms:s.bathrooms??null,area:s.area??null,type:s.type??null,features:s.features??[],price_range:s.price_range??null,is_new:!!s.is_new,is_published:!!s.is_published});await f(P(),{body:t,headers:{"Content-Type":"application/json"}}),g({}),await W(),G({type:"success",title:"Destaque adicionado"})}finally{ve(!1)}},ir=async t=>{await f(E({featuredProperty:t})),await W()},ar=async t=>{confirm("Excluir este destaque?")&&(await f(_({featuredProperty:t})),await W())},qe=async(t,a)=>{const h=X.findIndex(z=>z.id===t);if(h<0)return;const M=h+a;if(M<0||M>=X.length)return;const C=X.slice(),[de]=C.splice(h,1);C.splice(M,0,de),je(C);const ce=C.map(z=>z.id);await f(Q.patch(),{body:JSON.stringify({ids:ce}),headers:{"Content-Type":"application/json"}}),await W()};return r.jsxs("div",{className:"old-site",children:[r.jsx(sr,{title:"Painel"}),r.jsx(xr,{}),r.jsxs("div",{className:"container-responsive section-spacing flex flex-col gap-6 pt-24",children:[K&&r.jsxs(nr,{variant:K.type==="error"?"destructive":"default",children:[r.jsx(dr,{children:K.title}),K.message&&r.jsx(cr,{children:K.message})]}),r.jsx("div",{className:"mb-4 border-b",children:r.jsxs("div",{className:"flex gap-2",children:[r.jsx("button",{type:"button",onClick:()=>Ee("publicacoes"),className:`-mb-px border-b-2 px-4 py-2 ${V==="publicacoes"?"border-primary text-primary":"border-transparent text-muted-foreground hover:text-foreground"}`,children:"Publicações"}),r.jsx("button",{type:"button",onClick:()=>Ee("images"),className:`-mb-px border-b-2 px-4 py-2 ${V==="images"?"border-primary text-primary":"border-transparent text-muted-foreground hover:text-foreground"}`,children:"Imagens"})]})}),V==="images"&&r.jsxs(ur,{children:[r.jsx(mr,{children:r.jsx(hr,{children:"Gerenciar Imagens"})}),r.jsxs(pr,{className:"space-y-4",children:[r.jsxs("div",{className:"flex flex-col gap-2 sm:flex-row sm:items-end",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx(u,{htmlFor:"images",children:"Enviar imagens (até 20 por vez)"}),r.jsx(p,{id:"images",type:"file",multiple:!0,accept:"image/*",onChange:t=>O(t.target.files)})]}),r.jsx("div",{children:r.jsx(c,{onClick:Ve,disabled:n||!x||x.length===0,children:n?"Enviando…":"Enviar"})})]}),e.length>0?r.jsx("div",{className:"grid grid-cols-2 gap-3 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-6",children:e.map(t=>r.jsxs("div",{className:"group relative overflow-hidden rounded-md border",children:[r.jsx("img",{src:t.url,alt:t.original_name,className:"h-36 w-full object-cover"}),r.jsxs("div",{className:"absolute inset-x-0 bottom-0 flex items-center justify-between bg-black/50 p-1 text-xs text-white opacity-0 transition group-hover:opacity-100",children:[r.jsx("span",{className:"truncate",title:t.original_name,children:t.original_name}),r.jsx("button",{className:"rounded bg-red-600 px-2 py-0.5 text-[11px]",onClick:()=>Ye(t.id),children:"Excluir"})]})]},t.id))}):r.jsx("p",{className:"text-sm text-muted-foreground",children:"Nenhuma imagem enviada ainda."})]})]}),V==="publicacoes"&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"flex flex-col gap-4",children:[r.jsx(c,{className:"w-auto self-start",onClick:()=>le(!0),children:"Slides"}),r.jsx(c,{className:"w-auto self-start",onClick:()=>oe(!0),children:"Destaques"})]}),r.jsx(Y,{open:We,onOpenChange:le,children:r.jsxs(Z,{className:"w-full sm:max-w-5xl",children:[r.jsx(ee,{children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx(re,{children:"Hero Slides"}),r.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[r.jsx("span",{children:fe?"Carregando…":`${w.length} itens`}),r.jsx(c,{className:"w-auto",variant:"secondary",onClick:J,disabled:fe,title:"Atualizar",children:"↻"})]})]})}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2 lg:grid-cols-4",children:[r.jsxs("div",{children:[r.jsx(u,{children:"Título"}),r.jsx(p,{value:l.title??"",onChange:t=>S(a=>({...a,title:t.target.value})),placeholder:"Ex: Casa moderna no Setor Marista"})]}),r.jsxs("div",{children:[r.jsx(u,{children:"Subtítulo"}),r.jsx(p,{value:l.subtitle??"",onChange:t=>S(a=>({...a,subtitle:t.target.value})),placeholder:"Ex: Próximo ao Flamboyant"})]}),r.jsxs("div",{children:[r.jsx(u,{children:"Bairro"}),r.jsx(p,{value:l.neighborhood??"",onChange:t=>S(a=>({...a,neighborhood:t.target.value})),placeholder:"Ex: Setor Marista"})]}),r.jsxs("div",{children:[r.jsx(u,{children:"Preço"}),r.jsx(p,{value:l.price??"",onChange:t=>S(a=>({...a,price:Qe(t.target.value)})),inputMode:"numeric",placeholder:"Ex: R$ 1.250.000,00"})]})]}),r.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-3",children:[r.jsxs("div",{children:[r.jsx(u,{children:"Quartos"}),r.jsx(p,{type:"number",min:0,value:l.bedrooms??"",onChange:t=>S(a=>({...a,bedrooms:Number(t.target.value||0)})),inputMode:"numeric",placeholder:"Ex: 3"})]}),r.jsxs("div",{children:[r.jsx(u,{children:"Banheiros"}),r.jsx(p,{type:"number",min:0,value:l.bathrooms??"",onChange:t=>S(a=>({...a,bathrooms:Number(t.target.value||0)})),inputMode:"numeric",placeholder:"Ex: 2"})]}),r.jsxs("div",{children:[r.jsx(u,{children:"Área"}),r.jsx(p,{value:l.area??"",onChange:t=>S(a=>({...a,area:Ae(t.target.value)})),inputMode:"numeric",placeholder:"Ex: 120 m²"})]})]}),r.jsxs("div",{className:"flex items-center gap-6",children:[r.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[r.jsx("input",{type:"checkbox",checked:!!l.is_new,onChange:t=>S(a=>({...a,is_new:t.target.checked}))}),"Novo"]}),r.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[r.jsx("input",{type:"checkbox",checked:!!l.is_published,onChange:t=>S(a=>({...a,is_published:t.target.checked}))}),"Publicado"]})]}),r.jsxs("div",{children:[r.jsx(u,{children:"Imagem"}),r.jsx("div",{className:"mt-2",children:r.jsxs(Y,{open:Pe&&_e==="slide",onOpenChange:t=>{B(t),t||U(null)},children:[r.jsx(Fe,{asChild:!0,children:r.jsx(c,{type:"button",variant:"secondary",className:"w-auto",onClick:()=>{U("slide"),B(!0)},children:"Galeria"})}),r.jsxs(Z,{className:"sm:max-w-3xl",children:[r.jsx(ee,{children:r.jsx(re,{children:"Escolher imagem"})}),r.jsx("div",{className:"grid grid-cols-2 gap-3 sm:grid-cols-3 md:grid-cols-4",children:e.map(t=>r.jsx("button",{type:"button",className:"overflow-hidden rounded-md border focus:ring-2 focus:ring-ring focus:outline-none",onClick:()=>{S(a=>({...a,image_id:t.id})),B(!1),U(null)},children:r.jsx("img",{src:t.url,alt:t.original_name,className:"h-28 w-full object-cover"})},t.id))})]})]})}),r.jsx("div",{className:D("mt-4 aspect-video w-full overflow-hidden",!l.image_id&&"border-2 border-dashed"),children:l.image_id&&r.jsx(Ie,{src:e.find(t=>t.id===l.image_id)?.url??"",titulo:l.title,subtitulo:l.subtitle,preco:l.price,quartos:l.bedrooms,banheiros:l.bathrooms,area:l.area,bairro:l.neighborhood})})]}),r.jsx("div",{className:"flex items-end gap-2",children:r.jsx(c,{className:"w-auto",onClick:Ze,disabled:ae,title:"Adicionar Slide",children:ae?"…":"+"})}),r.jsx("div",{className:"grid grid-cols-1 gap-3 md:grid-cols-2 lg:grid-cols-3",children:w.map(t=>r.jsxs("div",{className:"overflow-hidden rounded-md border",children:[t.image_url?r.jsx("img",{src:t.image_url,alt:t.title,className:"h-40 w-full object-cover"}):r.jsx("div",{className:"h-40 w-full bg-muted"}),r.jsxs("div",{className:"flex items-center justify-between gap-2 p-2",children:[r.jsxs("div",{className:"min-w-0",children:[r.jsx("div",{className:"truncate font-medium",title:t.title,children:t.title}),r.jsx("div",{className:"text-xs text-muted-foreground",children:t.price})]}),r.jsxs("div",{className:"flex shrink-0 items-center gap-1",children:[r.jsx(c,{className:"w-auto",variant:"secondary",onClick:()=>ke(t.id,-1),title:"Subir",children:"↑"}),r.jsx(c,{className:"w-auto",variant:"secondary",onClick:()=>ke(t.id,1),title:"Descer",children:"↓"}),r.jsx(c,{className:"w-auto",variant:t.is_published?"default":"secondary",onClick:()=>er(t.id),title:"Publicar/Despublicar",children:t.is_published?"Publicado":"Rascunho"}),r.jsx(c,{className:"w-auto",variant:"destructive",onClick:()=>rr(t.id),title:"Excluir",children:"Excluir"})]})]})]},t.id))})]}),r.jsx($e,{children:r.jsx(c,{className:"w-auto",variant:"secondary",onClick:()=>le(!1),children:"Fechar"})})]})}),r.jsx(Y,{open:Xe,onOpenChange:oe,children:r.jsxs(Z,{className:"w-full sm:max-w-5xl",children:[r.jsx(ee,{children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx(re,{children:"Imóveis em Destaque"}),r.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[r.jsx("span",{children:Se?"Carregando…":`${X.length} itens`}),r.jsx(c,{className:"w-auto",variant:"secondary",onClick:W,disabled:Se,title:"Atualizar",children:"↻"})]})]})}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2 lg:grid-cols-3",children:[r.jsxs("div",{children:[r.jsx(u,{children:"Título"}),r.jsx(p,{value:s.title??"",onChange:t=>g(a=>({...a,title:t.target.value})),placeholder:"Ex: Apartamento premium Jardim Goiás"})]}),r.jsxs("div",{children:[r.jsx(u,{children:"Bairro"}),r.jsx(p,{value:s.neighborhood??"",onChange:t=>g(a=>({...a,neighborhood:t.target.value})),placeholder:"Ex: Jardim Goiás"})]}),r.jsxs("div",{children:[r.jsx(u,{children:"Preço"}),r.jsx(p,{value:s.price??"",onChange:t=>g(a=>({...a,price:Qe(t.target.value)})),inputMode:"numeric",placeholder:"Ex: R$ 950.000,00"})]})]}),r.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-3 lg:grid-cols-5",children:[r.jsxs("div",{children:[r.jsx(u,{children:"Quartos"}),r.jsx(p,{type:"number",min:0,value:s.bedrooms??"",onChange:t=>g(a=>({...a,bedrooms:Number(t.target.value||0)})),inputMode:"numeric",placeholder:"Ex: 3"})]}),r.jsxs("div",{children:[r.jsx(u,{children:"Banheiros"}),r.jsx(p,{type:"number",min:0,value:s.bathrooms??"",onChange:t=>g(a=>({...a,bathrooms:Number(t.target.value||0)})),inputMode:"numeric",placeholder:"Ex: 2"})]}),r.jsxs("div",{children:[r.jsx(u,{children:"Área"}),r.jsx(p,{value:s.area??"",onChange:t=>g(a=>({...a,area:Ae(t.target.value)})),inputMode:"numeric",placeholder:"Ex: 120 m²"})]}),r.jsxs("div",{children:[r.jsx(u,{children:"Tipo"}),r.jsxs("select",{className:"mt-1 w-full rounded-md border bg-background p-2",value:s.type??"",onChange:t=>g(a=>({...a,type:t.target.value})),children:[r.jsx("option",{value:"",children:"Selecione…"}),r.jsx("option",{value:"casa",children:"Casa"}),r.jsx("option",{value:"apartamento",children:"Apartamento"}),r.jsx("option",{value:"sobrado",children:"Sobrado"}),r.jsx("option",{value:"cobertura",children:"Cobertura"})]})]}),r.jsxs("div",{children:[r.jsx(u,{children:"Faixa de preço"}),r.jsx(p,{value:s.price_range??"",onChange:t=>g(a=>({...a,price_range:t.target.value})),placeholder:"Ex: 800000-1200000"})]})]}),r.jsxs("div",{className:"flex items-center gap-6",children:[r.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[r.jsx("input",{type:"checkbox",checked:!!s.is_new,onChange:t=>g(a=>({...a,is_new:t.target.checked}))}),"Novo"]}),r.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[r.jsx("input",{type:"checkbox",checked:!!s.is_published,onChange:t=>g(a=>({...a,is_published:t.target.checked}))}),"Publicado"]})]}),r.jsxs("div",{children:[r.jsx(u,{children:"Características (features)"}),r.jsxs("div",{className:"mt-2 flex items-center gap-2",children:[r.jsx(p,{value:Ne,onChange:t=>we(t.target.value),placeholder:"Ex: Piscina"}),r.jsx(c,{type:"button",variant:"secondary",className:"w-auto",onClick:()=>{const t=Ne.trim();t&&(g(a=>({...a,features:[...a.features??[],t]})),we(""))},title:"Adicionar",children:"+"})]}),(s.features??[]).length>0&&r.jsx("div",{className:"mt-2 flex flex-wrap gap-2",children:(s.features??[]).map((t,a)=>r.jsxs("span",{className:"inline-flex items-center gap-1 rounded-full bg-muted px-2 py-1 text-xs",children:[t,r.jsx("button",{type:"button",className:"text-muted-foreground hover:text-foreground",onClick:()=>g(h=>({...h,features:(h.features??[]).filter((M,C)=>C!==a)})),children:"×"})]},`${t}-${a}`))})]}),r.jsxs("div",{children:[r.jsx(u,{children:"Imagem"}),r.jsx("div",{className:"mt-2",children:r.jsxs(Y,{open:Pe&&_e==="featured",onOpenChange:t=>{B(t),t||U(null)},children:[r.jsx(Fe,{asChild:!0,children:r.jsx(c,{type:"button",variant:"secondary",className:"w-auto",onClick:()=>{U("featured"),B(!0)},children:"Galeria"})}),r.jsxs(Z,{className:"sm:max-w-3xl",children:[r.jsx(ee,{children:r.jsx(re,{children:"Escolher imagem"})}),r.jsx("div",{className:"grid grid-cols-2 gap-3 sm:grid-cols-3 md:grid-cols-4",children:e.map(t=>r.jsx("button",{type:"button",className:"overflow-hidden rounded-md border focus:ring-2 focus:ring-ring focus:outline-none",onClick:()=>{g(a=>({...a,image_id:t.id})),B(!1),U(null)},children:r.jsx("img",{src:t.url,alt:t.original_name,className:"h-28 w-full object-cover"})},t.id))})]})]})}),r.jsx("div",{className:D("mt-4 aspect-video w-full overflow-hidden",!s.image_id&&"border-2 border-dashed"),children:s.image_id&&r.jsx(Ie,{src:e.find(t=>t.id===s.image_id)?.url??"",titulo:s.title,preco:s.price,quartos:s.bedrooms,banheiros:s.bathrooms,area:s.area,bairro:s.neighborhood})})]}),r.jsx("div",{className:"flex items-end gap-2",children:r.jsx(c,{className:"w-auto",onClick:tr,disabled:be,title:"Adicionar Destaque",children:be?"…":"+"})}),r.jsx("div",{className:"grid grid-cols-1 gap-3 md:grid-cols-2 lg:grid-cols-3",children:X.map(t=>r.jsxs("div",{className:"overflow-hidden rounded-md border",children:[t.image_url?r.jsx("img",{src:t.image_url,alt:t.title,className:"h-40 w-full object-cover"}):r.jsx("div",{className:"h-40 w-full bg-muted"}),r.jsxs("div",{className:"flex items-center justify-between gap-2 p-2",children:[r.jsxs("div",{className:"min-w-0",children:[r.jsx("div",{className:"truncate font-medium",title:t.title,children:t.title}),r.jsx("div",{className:"text-xs text-muted-foreground",children:t.price})]}),r.jsxs("div",{className:"flex shrink-0 items-center gap-1",children:[r.jsx(c,{className:"w-auto",variant:"secondary",onClick:()=>qe(t.id,-1),title:"Subir",children:"↑"}),r.jsx(c,{className:"w-auto",variant:"secondary",onClick:()=>qe(t.id,1),title:"Descer",children:"↓"}),r.jsx(c,{className:"w-auto",variant:t.is_published?"default":"secondary",onClick:()=>ir(t.id),title:"Publicar/Despublicar",children:t.is_published?"Publicado":"Rascunho"}),r.jsx(c,{className:"w-auto",variant:"destructive",onClick:()=>ar(t.id),title:"Excluir",children:"Excluir"})]})]})]},t.id))})]}),r.jsx($e,{children:r.jsx(c,{className:"w-auto",variant:"secondary",onClick:()=>oe(!1),children:"Fechar"})})]})})]})]})]})}export{Gr as default};
