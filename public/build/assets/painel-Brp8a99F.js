import{r as o,j as t,H as ot}from"./app-DAZU3WJg.js";import{I as K}from"./icon-BFZwSOKt.js";import{B as c,c as M}from"./button-DAVyeAW5.js";import{M as nt,B as dt,a as ct,S as ut,b as mt,P as ht,I as re,c as ie}from"./oldsite-CAjCTjKu.js";import{c as pt}from"./createLucideIcon-Nc8ntiDP.js";import{D as ae,a as se,b as le,c as oe,d as Ie,e as Te}from"./dialog-DqHx-BNP.js";import{L as u,I as x}from"./label-B0gHkr-o.js";import{q as h,a as R}from"./index-CMWG4mbA.js";/* empty css            */import"./index-CeCjVYD2.js";import"./index-B-uZBmca.js";import"./index-BdSUkvTP.js";import"./x-Ddas5BdQ.js";import"./check-DJKqrjt9.js";import"./loader-circle-BNIhoVZp.js";import"./sun-BPa3lK6H.js";function De({src:e,titulo:i,subtitulo:n,preco:w,quartos:m,banheiros:_,area:f,bairro:d}){const[ee,V]=o.useState(1),l=()=>V(z=>Math.min(z+.25,3)),y=()=>V(z=>Math.max(z-.25,.5)),ye=()=>{const z=encodeURIComponent(`Olá! Tenho interesse no imóvel: ${i??""} - ${w??""}. Gostaria de mais informações.`);window.open(`https://wa.me/5562999999999?text=${z}`,"_blank")};return t.jsxs("div",{className:"relative aspect-video w-full overflow-hidden rounded-md",children:[t.jsx("img",{src:e,alt:i??"",className:"h-full w-full object-cover transition-transform",style:{transform:`scale(${ee})`}}),t.jsx("div",{className:"hero-overlay absolute inset-0"}),t.jsx("div",{className:"absolute inset-0 flex items-center justify-start",children:t.jsx("div",{className:"px-8",children:t.jsxs("div",{className:"animate-fade-in-up max-w-3xl origin-left scale-50 transform text-white",children:[d&&t.jsx("div",{className:"mb-4",children:t.jsxs("span",{className:"inline-flex items-center rounded-full bg-[#22c55e]/20 px-4 py-2 text-sm font-medium text-white backdrop-blur-sm",children:[t.jsx(K,{iconNode:nt,size:16,className:"mr-2"}),d]})}),i&&t.jsx("h1",{className:"text-shadow mb-6 text-4xl leading-tight font-bold text-balance sm:text-5xl lg:text-6xl",children:i}),n&&t.jsx("p",{className:"text-shadow mb-8 max-w-2xl text-xl text-gray-100 sm:text-2xl",children:n}),(m||_||f)&&t.jsxs("div",{className:"mb-10 flex flex-wrap items-center gap-4",children:[m&&t.jsxs("div",{className:"flex items-center space-x-2 rounded-xl border border-white/10 bg-white/15 px-4 py-3 backdrop-blur-sm",children:[t.jsx(K,{iconNode:dt,size:20,color:"white"}),t.jsxs("span",{className:"text-sm font-semibold",children:[m," quartos"]})]}),_&&t.jsxs("div",{className:"flex items-center space-x-2 rounded-xl border border-white/10 bg-white/15 px-4 py-3 backdrop-blur-sm",children:[t.jsx(K,{iconNode:ct,size:20,color:"white"}),t.jsxs("span",{className:"text-sm font-semibold",children:[_," banheiros"]})]}),f&&t.jsxs("div",{className:"flex items-center space-x-2 rounded-xl border border-white/10 bg-white/15 px-4 py-3 backdrop-blur-sm",children:[t.jsx(K,{iconNode:ut,size:20,color:"white"}),t.jsx("span",{className:"text-sm font-semibold",children:f})]})]}),t.jsxs("div",{className:"flex flex-col items-start gap-6 sm:flex-row sm:items-center",children:[w&&t.jsx("div",{className:"text-3xl font-bold text-primary sm:text-4xl lg:text-5xl",children:w}),t.jsxs("div",{className:"flex flex-wrap gap-4",children:[t.jsxs(c,{variant:"default",onClick:ye,className:"bg-green-500 hover:bg-green-600 text-white font-semibold px-6 py-3 text-base shadow-lg hover:shadow-xl transition-all duration-200",children:[t.jsx(K,{iconNode:mt,size:16,className:"mr-2"}),"Detalhes"]}),t.jsxs(c,{variant:"outline",onClick:()=>window.open("tel:+5562999999999"),className:"border-2 border-white text-white bg-transparent hover:bg-white/10 hover:text-white font-semibold px-6 py-3 text-base backdrop-blur-sm transition-all duration-200",children:[t.jsx(K,{iconNode:ht,size:16,className:"mr-2"}),"Ligar"]})]})]})]})})}),t.jsxs("div",{className:"absolute top-4 right-4 flex gap-1",children:[t.jsx("button",{type:"button",onClick:y,className:"flex h-6 w-6 items-center justify-center rounded bg-black/60 text-white",children:"-"}),t.jsx("button",{type:"button",onClick:l,className:"flex h-6 w-6 items-center justify-center rounded bg-black/60 text-white",children:"+"})]})]})}const xt=pt("relative w-full rounded-lg border px-4 py-3 text-sm grid has-[>svg]:grid-cols-[calc(var(--spacing)*4)_1fr] grid-cols-[0_1fr] has-[>svg]:gap-x-3 gap-y-0.5 items-start [&>svg]:size-4 [&>svg]:translate-y-0.5 [&>svg]:text-current",{variants:{variant:{default:"bg-background text-foreground",destructive:"text-destructive-foreground [&>svg]:text-current *:data-[slot=alert-description]:text-destructive-foreground/80"}},defaultVariants:{variant:"default"}});function ft({className:e,variant:i,...n}){return t.jsx("div",{"data-slot":"alert",role:"alert",className:M(xt({variant:i}),e),...n})}function gt({className:e,...i}){return t.jsx("div",{"data-slot":"alert-title",className:M("col-start-2 line-clamp-1 min-h-4 font-medium tracking-tight",e),...i})}function yt({className:e,...i}){return t.jsx("div",{"data-slot":"alert-description",className:M("text-muted-foreground col-start-2 grid justify-items-start gap-1 text-sm [&_p]:leading-relaxed",e),...i})}function bt({className:e,...i}){return t.jsx("div",{"data-slot":"card",className:M("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",e),...i})}function jt({className:e,...i}){return t.jsx("div",{"data-slot":"card-header",className:M("flex flex-col gap-1.5 px-6",e),...i})}function vt({className:e,...i}){return t.jsx("div",{"data-slot":"card-title",className:M("leading-none font-semibold",e),...i})}function Nt({className:e,...i}){return t.jsx("div",{"data-slot":"card-content",className:M("px-6",e),...i})}function wt(){const[e,i]=o.useState(!1),[n,w]=o.useState(!1);o.useEffect(()=>{const d=()=>w(window.scrollY>10);return window.addEventListener("scroll",d),()=>window.removeEventListener("scroll",d)},[]);const m=[{name:"Início",path:"/",icon:"Home"},{name:"Sobre Nós",path:"/about-brand-story-credentials",icon:"Users"},{name:"FAQ",path:"/faq-comprehensive-buyer-education",icon:"HelpCircle"},{name:"Painel",path:"/painel",icon:"Image",external:!0}],_=d=>window.location?.pathname===d,f=()=>{const d=encodeURIComponent("Olá! Gostaria de saber mais sobre os imóveis disponíveis.");window.open(`https://wa.me/5562999999999?text=${d}`,"_blank")};return t.jsx("header",{className:`fixed top-0 left-0 right-0 z-50 transition-all duration-200 ${n?"bg-white/95 backdrop-blur-sm shadow-subtle":"bg-white"}`,children:t.jsxs("div",{className:"w-full",children:[t.jsxs("div",{className:"flex h-16 items-center justify-between px-4 sm:px-6 lg:px-8",children:[t.jsxs("a",{href:"/",className:"flex items-center space-x-3 transition-opacity hover:opacity-80",children:[t.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-lg bg-gradient-to-br from-primary to-secondary",children:t.jsx(re,{name:"Home",size:24,color:"white",strokeWidth:2.5})}),t.jsxs("div",{className:"hidden sm:block",children:[t.jsx("h1",{className:"text-xl font-bold text-text-primary",children:"Casa Conecta"}),t.jsx("p",{className:"text-xs font-medium text-text-secondary",children:"Imóveis Premium"})]})]}),t.jsx("nav",{className:"hidden items-center space-x-8 lg:flex",children:m.map(d=>t.jsxs("a",{href:d.path,className:`flex items-center space-x-2 rounded-md px-3 py-2 text-sm font-medium transition-all duration-200 ${_(d.path)?"bg-primary/10 text-primary":"text-text-secondary hover:bg-primary/5 hover:text-primary"}`,children:[t.jsx(re,{name:d.icon,size:18}),t.jsx("span",{children:d.name})]},d.path))}),t.jsxs("div",{className:"hidden items-center space-x-4 lg:flex",children:[t.jsx(ie,{variant:"outline",size:"sm",iconName:"Phone",iconPosition:"left",onClick:()=>window.open("tel:+5562999999999"),className:"border-border text-text-secondary hover:border-primary hover:text-primary",children:"(62) 99999-9999"}),t.jsx(ie,{variant:"default",size:"sm",iconName:"MessageCircle",iconPosition:"left",onClick:f,className:"bg-accent hover:bg-accent/90",children:"WhatsApp"})]}),t.jsx("button",{onClick:()=>i(d=>!d),className:"rounded-md p-2 text-text-secondary transition-colors hover:bg-primary/5 hover:text-primary lg:hidden","aria-label":"Toggle mobile menu",children:t.jsx(re,{name:e?"X":"Menu",size:24})})]}),e&&t.jsx("div",{className:"border-border bg-white lg:hidden",children:t.jsxs("div",{className:"space-y-3 px-4 py-4",children:[m.map(d=>t.jsxs("a",{href:d.path,onClick:()=>i(!1),className:`flex items-center space-x-3 rounded-md px-3 py-3 text-sm font-medium transition-all duration-200 ${_(d.path)?"bg-primary/10 text-primary":"text-text-secondary hover:bg-primary/5 hover:text-primary"}`,children:[t.jsx(re,{name:d.icon,size:20}),t.jsx("span",{children:d.name})]},d.path)),t.jsxs("div",{className:"space-y-3 border-t border-border pt-4",children:[t.jsx(ie,{variant:"outline",size:"sm",iconName:"Phone",iconPosition:"left",onClick:()=>{window.open("tel:+5562999999999"),i(!1)},fullWidth:!0,className:"justify-start border-border text-text-secondary hover:border-primary hover:text-primary",children:"(62) 99999-9999"}),t.jsx(ie,{variant:"default",size:"sm",iconName:"MessageCircle",iconPosition:"left",onClick:()=>{f(),i(!1)},fullWidth:!0,className:"justify-start bg-accent hover:bg-accent/90",children:"Falar no WhatsApp"})]})]})})]})})}const j=e=>({url:j.url(e),method:"get"});j.definition={methods:["get","head"],url:"/api/admin/featured-properties"};j.url=e=>j.definition.url+h(e);j.get=e=>({url:j.url(e),method:"get"});j.head=e=>({url:j.url(e),method:"head"});const he=e=>({action:j.url(e),method:"get"});he.get=e=>({action:j.url(e),method:"get"});he.head=e=>({action:j.url({[e?.mergeQuery?"mergeQuery":"query"]:{_method:"HEAD",...e?.query??e?.mergeQuery??{}}}),method:"get"});j.form=he;const k=e=>({url:k.url(e),method:"post"});k.definition={methods:["post"],url:"/api/admin/featured-properties"};k.url=e=>k.definition.url+h(e);k.post=e=>({url:k.url(e),method:"post"});const Me=e=>({action:k.url(e),method:"post"});Me.post=e=>({action:k.url(e),method:"post"});k.form=Me;const H=(e,i)=>({url:H.url(e,i),method:"put"});H.definition={methods:["put"],url:"/api/admin/featured-properties/{featuredProperty}"};H.url=(e,i)=>{(typeof e=="string"||typeof e=="number")&&(e={featuredProperty:e}),typeof e=="object"&&!Array.isArray(e)&&"id"in e&&(e={featuredProperty:e.id}),Array.isArray(e)&&(e={featuredProperty:e[0]}),e=R(e);const n={featuredProperty:typeof e.featuredProperty=="object"?e.featuredProperty.id:e.featuredProperty};return H.definition.url.replace("{featuredProperty}",n.featuredProperty.toString()).replace(/\/+$/,"")+h(i)};H.put=(e,i)=>({url:H.url(e,i),method:"put"});const He=(e,i)=>({action:H.url(e,{[i?.mergeQuery?"mergeQuery":"query"]:{_method:"PUT",...i?.query??i?.mergeQuery??{}}}),method:"post"});He.put=(e,i)=>({action:H.url(e,{[i?.mergeQuery?"mergeQuery":"query"]:{_method:"PUT",...i?.query??i?.mergeQuery??{}}}),method:"post"});H.form=He;const E=(e,i)=>({url:E.url(e,i),method:"delete"});E.definition={methods:["delete"],url:"/api/admin/featured-properties/{featuredProperty}"};E.url=(e,i)=>{(typeof e=="string"||typeof e=="number")&&(e={featuredProperty:e}),typeof e=="object"&&!Array.isArray(e)&&"id"in e&&(e={featuredProperty:e.id}),Array.isArray(e)&&(e={featuredProperty:e[0]}),e=R(e);const n={featuredProperty:typeof e.featuredProperty=="object"?e.featuredProperty.id:e.featuredProperty};return E.definition.url.replace("{featuredProperty}",n.featuredProperty.toString()).replace(/\/+$/,"")+h(i)};E.delete=(e,i)=>({url:E.url(e,i),method:"delete"});const Le=(e,i)=>({action:E.url(e,{[i?.mergeQuery?"mergeQuery":"query"]:{_method:"DELETE",...i?.query??i?.mergeQuery??{}}}),method:"post"});Le.delete=(e,i)=>({action:E.url(e,{[i?.mergeQuery?"mergeQuery":"query"]:{_method:"DELETE",...i?.query??i?.mergeQuery??{}}}),method:"post"});E.form=Le;const Q=(e,i)=>({url:Q.url(e,i),method:"patch"});Q.definition={methods:["patch"],url:"/api/admin/featured-properties/{featuredProperty}/publish"};Q.url=(e,i)=>{(typeof e=="string"||typeof e=="number")&&(e={featuredProperty:e}),typeof e=="object"&&!Array.isArray(e)&&"id"in e&&(e={featuredProperty:e.id}),Array.isArray(e)&&(e={featuredProperty:e[0]}),e=R(e);const n={featuredProperty:typeof e.featuredProperty=="object"?e.featuredProperty.id:e.featuredProperty};return Q.definition.url.replace("{featuredProperty}",n.featuredProperty.toString()).replace(/\/+$/,"")+h(i)};Q.patch=(e,i)=>({url:Q.url(e,i),method:"patch"});const ze=(e,i)=>({action:Q.url(e,{[i?.mergeQuery?"mergeQuery":"query"]:{_method:"PATCH",...i?.query??i?.mergeQuery??{}}}),method:"post"});ze.patch=(e,i)=>({action:Q.url(e,{[i?.mergeQuery?"mergeQuery":"query"]:{_method:"PATCH",...i?.query??i?.mergeQuery??{}}}),method:"post"});Q.form=ze;const A=e=>({url:A.url(e),method:"patch"});A.definition={methods:["patch"],url:"/api/admin/featured-properties/reorder"};A.url=e=>A.definition.url+h(e);A.patch=e=>({url:A.url(e),method:"patch"});const Oe=e=>({action:A.url({[e?.mergeQuery?"mergeQuery":"query"]:{_method:"PATCH",...e?.query??e?.mergeQuery??{}}}),method:"post"});Oe.patch=e=>({action:A.url({[e?.mergeQuery?"mergeQuery":"query"]:{_method:"PATCH",...e?.query??e?.mergeQuery??{}}}),method:"post"});A.form=Oe;const S=e=>({url:S.url(e),method:"get"});S.definition={methods:["get","head"],url:"/api/featured-properties"};S.url=e=>S.definition.url+h(e);S.get=e=>({url:S.url(e),method:"get"});S.head=e=>({url:S.url(e),method:"head"});const pe=e=>({action:S.url(e),method:"get"});pe.get=e=>({action:S.url(e),method:"get"});pe.head=e=>({action:S.url({[e?.mergeQuery?"mergeQuery":"query"]:{_method:"HEAD",...e?.query??e?.mergeQuery??{}}}),method:"get"});S.form=pe;const v=e=>({url:v.url(e),method:"get"});v.definition={methods:["get","head"],url:"/api/admin/hero-slides"};v.url=e=>v.definition.url+h(e);v.get=e=>({url:v.url(e),method:"get"});v.head=e=>({url:v.url(e),method:"head"});const xe=e=>({action:v.url(e),method:"get"});xe.get=e=>({action:v.url(e),method:"get"});xe.head=e=>({action:v.url({[e?.mergeQuery?"mergeQuery":"query"]:{_method:"HEAD",...e?.query??e?.mergeQuery??{}}}),method:"get"});v.form=xe;const q=e=>({url:q.url(e),method:"post"});q.definition={methods:["post"],url:"/api/admin/hero-slides"};q.url=e=>q.definition.url+h(e);q.post=e=>({url:q.url(e),method:"post"});const Be=e=>({action:q.url(e),method:"post"});Be.post=e=>({action:q.url(e),method:"post"});q.form=Be;const L=(e,i)=>({url:L.url(e,i),method:"put"});L.definition={methods:["put"],url:"/api/admin/hero-slides/{heroSlide}"};L.url=(e,i)=>{(typeof e=="string"||typeof e=="number")&&(e={heroSlide:e}),typeof e=="object"&&!Array.isArray(e)&&"id"in e&&(e={heroSlide:e.id}),Array.isArray(e)&&(e={heroSlide:e[0]}),e=R(e);const n={heroSlide:typeof e.heroSlide=="object"?e.heroSlide.id:e.heroSlide};return L.definition.url.replace("{heroSlide}",n.heroSlide.toString()).replace(/\/+$/,"")+h(i)};L.put=(e,i)=>({url:L.url(e,i),method:"put"});const Re=(e,i)=>({action:L.url(e,{[i?.mergeQuery?"mergeQuery":"query"]:{_method:"PUT",...i?.query??i?.mergeQuery??{}}}),method:"post"});Re.put=(e,i)=>({action:L.url(e,{[i?.mergeQuery?"mergeQuery":"query"]:{_method:"PUT",...i?.query??i?.mergeQuery??{}}}),method:"post"});L.form=Re;const F=(e,i)=>({url:F.url(e,i),method:"delete"});F.definition={methods:["delete"],url:"/api/admin/hero-slides/{heroSlide}"};F.url=(e,i)=>{(typeof e=="string"||typeof e=="number")&&(e={heroSlide:e}),typeof e=="object"&&!Array.isArray(e)&&"id"in e&&(e={heroSlide:e.id}),Array.isArray(e)&&(e={heroSlide:e[0]}),e=R(e);const n={heroSlide:typeof e.heroSlide=="object"?e.heroSlide.id:e.heroSlide};return F.definition.url.replace("{heroSlide}",n.heroSlide.toString()).replace(/\/+$/,"")+h(i)};F.delete=(e,i)=>({url:F.url(e,i),method:"delete"});const Ue=(e,i)=>({action:F.url(e,{[i?.mergeQuery?"mergeQuery":"query"]:{_method:"DELETE",...i?.query??i?.mergeQuery??{}}}),method:"post"});Ue.delete=(e,i)=>({action:F.url(e,{[i?.mergeQuery?"mergeQuery":"query"]:{_method:"DELETE",...i?.query??i?.mergeQuery??{}}}),method:"post"});F.form=Ue;const $=(e,i)=>({url:$.url(e,i),method:"patch"});$.definition={methods:["patch"],url:"/api/admin/hero-slides/{heroSlide}/publish"};$.url=(e,i)=>{(typeof e=="string"||typeof e=="number")&&(e={heroSlide:e}),typeof e=="object"&&!Array.isArray(e)&&"id"in e&&(e={heroSlide:e.id}),Array.isArray(e)&&(e={heroSlide:e[0]}),e=R(e);const n={heroSlide:typeof e.heroSlide=="object"?e.heroSlide.id:e.heroSlide};return $.definition.url.replace("{heroSlide}",n.heroSlide.toString()).replace(/\/+$/,"")+h(i)};$.patch=(e,i)=>({url:$.url(e,i),method:"patch"});const Ge=(e,i)=>({action:$.url(e,{[i?.mergeQuery?"mergeQuery":"query"]:{_method:"PATCH",...i?.query??i?.mergeQuery??{}}}),method:"post"});Ge.patch=(e,i)=>({action:$.url(e,{[i?.mergeQuery?"mergeQuery":"query"]:{_method:"PATCH",...i?.query??i?.mergeQuery??{}}}),method:"post"});$.form=Ge;const I=e=>({url:I.url(e),method:"patch"});I.definition={methods:["patch"],url:"/api/admin/hero-slides/reorder"};I.url=e=>I.definition.url+h(e);I.patch=e=>({url:I.url(e),method:"patch"});const We=e=>({action:I.url({[e?.mergeQuery?"mergeQuery":"query"]:{_method:"PATCH",...e?.query??e?.mergeQuery??{}}}),method:"post"});We.patch=e=>({action:I.url({[e?.mergeQuery?"mergeQuery":"query"]:{_method:"PATCH",...e?.query??e?.mergeQuery??{}}}),method:"post"});I.form=We;const C=e=>({url:C.url(e),method:"get"});C.definition={methods:["get","head"],url:"/api/hero-slides"};C.url=e=>C.definition.url+h(e);C.get=e=>({url:C.url(e),method:"get"});C.head=e=>({url:C.url(e),method:"head"});const fe=e=>({action:C.url(e),method:"get"});fe.get=e=>({action:C.url(e),method:"get"});fe.head=e=>({action:C.url({[e?.mergeQuery?"mergeQuery":"query"]:{_method:"HEAD",...e?.query??e?.mergeQuery??{}}}),method:"get"});C.form=fe;const N=e=>({url:N.url(e),method:"get"});N.definition={methods:["get","head"],url:"/api/images"};N.url=e=>N.definition.url+h(e);N.get=e=>({url:N.url(e),method:"get"});N.head=e=>({url:N.url(e),method:"head"});const ge=e=>({action:N.url(e),method:"get"});ge.get=e=>({action:N.url(e),method:"get"});ge.head=e=>({action:N.url({[e?.mergeQuery?"mergeQuery":"query"]:{_method:"HEAD",...e?.query??e?.mergeQuery??{}}}),method:"get"});N.form=ge;const T=e=>({url:T.url(e),method:"post"});T.definition={methods:["post"],url:"/api/images"};T.url=e=>T.definition.url+h(e);T.post=e=>({url:T.url(e),method:"post"});const Je=e=>({action:T.url(e),method:"post"});Je.post=e=>({action:T.url(e),method:"post"});T.form=Je;const D=(e,i)=>({url:D.url(e,i),method:"delete"});D.definition={methods:["delete"],url:"/api/images/{image}"};D.url=(e,i)=>{(typeof e=="string"||typeof e=="number")&&(e={image:e}),typeof e=="object"&&!Array.isArray(e)&&"id"in e&&(e={image:e.id}),Array.isArray(e)&&(e={image:e[0]}),e=R(e);const n={image:typeof e.image=="object"?e.image.id:e.image};return D.definition.url.replace("{image}",n.image.toString()).replace(/\/+$/,"")+h(i)};D.delete=(e,i)=>({url:D.url(e,i),method:"delete"});const Xe=(e,i)=>({action:D.url(e,{[i?.mergeQuery?"mergeQuery":"query"]:{_method:"DELETE",...i?.query??i?.mergeQuery??{}}}),method:"post"});Xe.delete=(e,i)=>({action:D.url(e,{[i?.mergeQuery?"mergeQuery":"query"]:{_method:"DELETE",...i?.query??i?.mergeQuery??{}}}),method:"post"});D.form=Xe;const St=()=>document.querySelector('meta[name="csrf-token"]')?.content??"";async function b(e,i){const n=(e.method??"get").toUpperCase(),w=new Headers(i?.headers);["POST","PUT","PATCH","DELETE"].includes(n)&&(w.has("X-CSRF-TOKEN")||w.set("X-CSRF-TOKEN",St()));const m=await fetch(e.url,{method:n,credentials:"same-origin",...i,headers:w});if(!m.ok){const f=await m.text();throw new Error(f||`HTTP ${m.status}`)}return(m.headers.get("content-type")||"").includes("application/json")?m.json():null}function Zt(){const[e,i]=o.useState([]),[n,w]=o.useState(!1),[m,_]=o.useState(null),[f,d]=o.useState([]),[ee,V]=o.useState(!1),[l,y]=o.useState({}),[ye,z]=o.useState(!1),[be,je]=o.useState(!1),[Ct,Pt]=o.useState(null),[_t,kt]=o.useState({}),[Et,Qt]=o.useState(!1),[Y,ve]=o.useState([]),[Ne,we]=o.useState(!1),[s,g]=o.useState({features:[]}),[Se,Ce]=o.useState(""),[Pe,_e]=o.useState(!1),[At,qt]=o.useState(null),[Ft,$t]=o.useState({}),[It,Tt]=o.useState(!1),[Ke,ne]=o.useState(!1),[Ve,de]=o.useState(!1),[ke,U]=o.useState(!1),[Ee,G]=o.useState(null),[Z,W]=o.useState(null),[te,Qe]=o.useState("publicacoes");o.useEffect(()=>{Ye()},[]),o.useEffect(()=>{try{document.documentElement.classList.remove("dark")}catch{}},[]);const Ae=r=>{const a=r.replace(/\D/g,"");if(!a)return"";const p=Number(a)/100;try{return p.toLocaleString("pt-BR",{style:"currency",currency:"BRL"})}catch{return`R$ ${p.toFixed(2)}`}},qe=r=>{const a=r.replace(/\D/g,"");if(!a)return"";const p=parseInt(a,10);try{return`${p.toLocaleString("pt-BR")} m²`}catch{return`${p} m²`}},Ye=async()=>{await Promise.all([ce(),J(),X()])},ce=async()=>{z(!0);try{const r=await b(N());i(r)}catch(r){W({type:"error",title:"Falha ao carregar imagens",message:r instanceof Error?r.message:String(r)})}finally{z(!1)}},J=async()=>{je(!0);try{const r=await b(v());d(r)}catch(r){W({type:"error",title:"Falha ao carregar slides",message:r instanceof Error?r.message:String(r)})}finally{je(!1)}},X=async()=>{_e(!0);try{const r=await b(j());ve(r)}catch(r){W({type:"error",title:"Falha ao carregar destaques",message:r instanceof Error?r.message:String(r)})}finally{_e(!1)}},Ze=async()=>{if(!m||m.length===0)return;const r=new FormData;Array.from(m).forEach(a=>r.append("images[]",a)),w(!0);try{await b(T(),{body:r}),_(null),await ce(),W({type:"success",title:"Imagens enviadas com sucesso"})}finally{w(!1)}},et=async r=>{confirm("Excluir esta imagem?")&&(await b(D(r)),await ce())},tt=async()=>{if(!l.image_id||!l.title||!l.price){alert("Selecione uma imagem, título e preço.");return}V(!0);try{const r=JSON.stringify({image_id:l.image_id,title:l.title,subtitle:l.subtitle??null,price:l.price,bedrooms:l.bedrooms??null,bathrooms:l.bathrooms??null,area:l.area??null,neighborhood:l.neighborhood??null,is_new:!!l.is_new,is_published:!!l.is_published});await b(q(),{body:r,headers:{"Content-Type":"application/json"}}),y({}),await J(),W({type:"success",title:"Slide adicionado"})}finally{V(!1)}},rt=async r=>{await b($({heroSlide:r})),await J()},it=async r=>{confirm("Excluir este slide?")&&(await b(F({heroSlide:r})),await J())},Fe=async(r,a)=>{const p=f.findIndex(B=>B.id===r);if(p<0)return;const O=p+a;if(O<0||O>=f.length)return;const P=f.slice(),[ue]=P.splice(p,1);P.splice(O,0,ue),d(P);const me=P.map(B=>B.id);await b(I.patch(),{body:JSON.stringify({ids:me}),headers:{"Content-Type":"application/json"}}),await J()},at=async()=>{if(!s.image_id||!s.title||!s.price){alert("Selecione uma imagem, título e preço.");return}we(!0);try{const r=JSON.stringify({image_id:s.image_id,title:s.title,neighborhood:s.neighborhood??null,price:s.price,bedrooms:s.bedrooms??null,bathrooms:s.bathrooms??null,area:s.area??null,type:s.type??null,features:s.features??[],price_range:s.price_range??null,is_new:!!s.is_new,is_published:!!s.is_published});await b(k(),{body:r,headers:{"Content-Type":"application/json"}}),g({}),await X(),W({type:"success",title:"Destaque adicionado"})}finally{we(!1)}},st=async r=>{await b(Q({featuredProperty:r})),await X()},lt=async r=>{confirm("Excluir este destaque?")&&(await b(E({featuredProperty:r})),await X())},$e=async(r,a)=>{const p=Y.findIndex(B=>B.id===r);if(p<0)return;const O=p+a;if(O<0||O>=Y.length)return;const P=Y.slice(),[ue]=P.splice(p,1);P.splice(O,0,ue),ve(P);const me=P.map(B=>B.id);await b(A.patch(),{body:JSON.stringify({ids:me}),headers:{"Content-Type":"application/json"}}),await X()};return t.jsxs("div",{className:"old-site",children:[t.jsx(ot,{title:"Painel"}),t.jsx(wt,{}),t.jsxs("div",{className:"container-responsive section-spacing flex flex-col gap-6 pt-24",children:[Z&&t.jsxs(ft,{variant:Z.type==="error"?"destructive":"default",children:[t.jsx(gt,{children:Z.title}),Z.message&&t.jsx(yt,{children:Z.message})]}),t.jsx("div",{className:"mb-4 border-b",children:t.jsxs("div",{className:"flex gap-2",children:[t.jsx("button",{type:"button",onClick:()=>Qe("publicacoes"),className:`-mb-px border-b-2 px-4 py-2 ${te==="publicacoes"?"border-primary text-primary":"border-transparent text-muted-foreground hover:text-foreground"}`,children:"Publicações"}),t.jsx("button",{type:"button",onClick:()=>Qe("images"),className:`-mb-px border-b-2 px-4 py-2 ${te==="images"?"border-primary text-primary":"border-transparent text-muted-foreground hover:text-foreground"}`,children:"Imagens"})]})}),te==="images"&&t.jsxs(bt,{children:[t.jsx(jt,{children:t.jsx(vt,{children:"Gerenciar Imagens"})}),t.jsxs(Nt,{className:"space-y-4",children:[t.jsxs("div",{className:"flex flex-col gap-2 sm:flex-row sm:items-end",children:[t.jsxs("div",{className:"flex-1",children:[t.jsx(u,{htmlFor:"images",children:"Enviar imagens (até 20 por vez)"}),t.jsx(x,{id:"images",type:"file",multiple:!0,accept:"image/*",onChange:r=>_(r.target.files)})]}),t.jsx("div",{children:t.jsx(c,{onClick:Ze,disabled:n||!m||m.length===0,children:n?"Enviando…":"Enviar"})})]}),e.length>0?t.jsx("div",{className:"grid grid-cols-2 gap-3 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-6",children:e.map(r=>t.jsxs("div",{className:"group relative overflow-hidden rounded-md border",children:[t.jsx("img",{src:r.url,alt:r.original_name,className:"h-36 w-full object-cover"}),t.jsxs("div",{className:"absolute inset-x-0 bottom-0 flex items-center justify-between bg-black/50 p-1 text-xs text-white opacity-0 transition group-hover:opacity-100",children:[t.jsx("span",{className:"truncate",title:r.original_name,children:r.original_name}),t.jsx("button",{className:"rounded bg-red-600 px-2 py-0.5 text-[11px]",onClick:()=>et(r.id),children:"Excluir"})]})]},r.id))}):t.jsx("p",{className:"text-sm text-muted-foreground",children:"Nenhuma imagem enviada ainda."})]})]}),te==="publicacoes"&&t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"flex flex-col gap-4",children:[t.jsx(c,{className:"w-auto self-start",onClick:()=>ne(!0),children:"Slides"}),t.jsx(c,{className:"w-auto self-start",onClick:()=>de(!0),children:"Destaques"})]}),t.jsx(ae,{open:Ke,onOpenChange:ne,children:t.jsxs(se,{className:"w-full sm:max-w-5xl",children:[t.jsx(le,{children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx(oe,{children:"Hero Slides"}),t.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[t.jsx("span",{children:be?"Carregando…":`${f.length} itens`}),t.jsx(c,{className:"w-auto",variant:"secondary",onClick:J,disabled:be,title:"Atualizar",children:"↻"})]})]})}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2 lg:grid-cols-4",children:[t.jsxs("div",{children:[t.jsx(u,{children:"Título"}),t.jsx(x,{value:l.title??"",onChange:r=>y(a=>({...a,title:r.target.value})),placeholder:"Ex: Casa moderna no Setor Marista"})]}),t.jsxs("div",{children:[t.jsx(u,{children:"Subtítulo"}),t.jsx(x,{value:l.subtitle??"",onChange:r=>y(a=>({...a,subtitle:r.target.value})),placeholder:"Ex: Próximo ao Flamboyant"})]}),t.jsxs("div",{children:[t.jsx(u,{children:"Bairro"}),t.jsx(x,{value:l.neighborhood??"",onChange:r=>y(a=>({...a,neighborhood:r.target.value})),placeholder:"Ex: Setor Marista"})]}),t.jsxs("div",{children:[t.jsx(u,{children:"Preço"}),t.jsx(x,{value:l.price??"",onChange:r=>y(a=>({...a,price:Ae(r.target.value)})),inputMode:"numeric",placeholder:"Ex: R$ 1.250.000,00"})]})]}),t.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-3",children:[t.jsxs("div",{children:[t.jsx(u,{children:"Quartos"}),t.jsx(x,{type:"number",min:0,value:l.bedrooms??"",onChange:r=>y(a=>({...a,bedrooms:Number(r.target.value||0)})),inputMode:"numeric",placeholder:"Ex: 3"})]}),t.jsxs("div",{children:[t.jsx(u,{children:"Banheiros"}),t.jsx(x,{type:"number",min:0,value:l.bathrooms??"",onChange:r=>y(a=>({...a,bathrooms:Number(r.target.value||0)})),inputMode:"numeric",placeholder:"Ex: 2"})]}),t.jsxs("div",{children:[t.jsx(u,{children:"Área"}),t.jsx(x,{value:l.area??"",onChange:r=>y(a=>({...a,area:qe(r.target.value)})),inputMode:"numeric",placeholder:"Ex: 120 m²"})]})]}),t.jsxs("div",{className:"flex items-center gap-6",children:[t.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[t.jsx("input",{type:"checkbox",checked:!!l.is_new,onChange:r=>y(a=>({...a,is_new:r.target.checked}))}),"Novo"]}),t.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[t.jsx("input",{type:"checkbox",checked:!!l.is_published,onChange:r=>y(a=>({...a,is_published:r.target.checked}))}),"Publicado"]})]}),t.jsxs("div",{children:[t.jsx(u,{children:"Imagem"}),t.jsx("div",{className:"mt-2",children:t.jsxs(ae,{open:ke&&Ee==="slide",onOpenChange:r=>{U(r),r||G(null)},children:[t.jsx(Ie,{asChild:!0,children:t.jsx(c,{type:"button",variant:"secondary",className:"w-auto",onClick:()=>{G("slide"),U(!0)},children:"Galeria"})}),t.jsxs(se,{className:"sm:max-w-3xl",children:[t.jsx(le,{children:t.jsx(oe,{children:"Escolher imagem"})}),t.jsx("div",{className:"grid grid-cols-2 gap-3 sm:grid-cols-3 md:grid-cols-4",children:e.map(r=>t.jsx("button",{type:"button",className:"overflow-hidden rounded-md border focus:ring-2 focus:ring-ring focus:outline-none",onClick:()=>{y(a=>({...a,image_id:r.id})),U(!1),G(null)},children:t.jsx("img",{src:r.url,alt:r.original_name,className:"h-28 w-full object-cover"})},r.id))})]})]})}),t.jsx("div",{className:M("mt-4 aspect-video w-full overflow-hidden",!l.image_id&&"border-2 border-dashed"),children:l.image_id&&t.jsx(De,{src:e.find(r=>r.id===l.image_id)?.url??"",titulo:l.title,subtitulo:l.subtitle,preco:l.price,quartos:l.bedrooms,banheiros:l.bathrooms,area:l.area,bairro:l.neighborhood})})]}),t.jsx("div",{className:"flex items-end gap-2",children:t.jsx(c,{className:"w-auto",onClick:tt,disabled:ee,title:"Adicionar Slide",children:ee?"…":"+"})}),t.jsx("div",{className:"grid grid-cols-1 gap-3 md:grid-cols-2 lg:grid-cols-3",children:f.map(r=>t.jsxs("div",{className:"overflow-hidden rounded-md border",children:[r.image_url?t.jsx("img",{src:r.image_url,alt:r.title,className:"h-40 w-full object-cover"}):t.jsx("div",{className:"h-40 w-full bg-muted"}),t.jsxs("div",{className:"flex items-center justify-between gap-2 p-2",children:[t.jsxs("div",{className:"min-w-0",children:[t.jsx("div",{className:"truncate font-medium",title:r.title,children:r.title}),t.jsx("div",{className:"text-xs text-muted-foreground",children:r.price})]}),t.jsxs("div",{className:"flex shrink-0 items-center gap-1",children:[t.jsx(c,{className:"w-auto",variant:"secondary",onClick:()=>Fe(r.id,-1),title:"Subir",children:"↑"}),t.jsx(c,{className:"w-auto",variant:"secondary",onClick:()=>Fe(r.id,1),title:"Descer",children:"↓"}),t.jsx(c,{className:"w-auto",variant:r.is_published?"default":"secondary",onClick:()=>rt(r.id),title:"Publicar/Despublicar",children:r.is_published?"Publicado":"Rascunho"}),t.jsx(c,{className:"w-auto",variant:"destructive",onClick:()=>it(r.id),title:"Excluir",children:"Excluir"})]})]})]},r.id))})]}),t.jsx(Te,{children:t.jsx(c,{className:"w-auto",variant:"secondary",onClick:()=>ne(!1),children:"Fechar"})})]})}),t.jsx(ae,{open:Ve,onOpenChange:de,children:t.jsxs(se,{className:"w-full sm:max-w-5xl",children:[t.jsx(le,{children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx(oe,{children:"Imóveis em Destaque"}),t.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[t.jsx("span",{children:Pe?"Carregando…":`${Y.length} itens`}),t.jsx(c,{className:"w-auto",variant:"secondary",onClick:X,disabled:Pe,title:"Atualizar",children:"↻"})]})]})}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2 lg:grid-cols-3",children:[t.jsxs("div",{children:[t.jsx(u,{children:"Título"}),t.jsx(x,{value:s.title??"",onChange:r=>g(a=>({...a,title:r.target.value})),placeholder:"Ex: Apartamento premium Jardim Goiás"})]}),t.jsxs("div",{children:[t.jsx(u,{children:"Bairro"}),t.jsx(x,{value:s.neighborhood??"",onChange:r=>g(a=>({...a,neighborhood:r.target.value})),placeholder:"Ex: Jardim Goiás"})]}),t.jsxs("div",{children:[t.jsx(u,{children:"Preço"}),t.jsx(x,{value:s.price??"",onChange:r=>g(a=>({...a,price:Ae(r.target.value)})),inputMode:"numeric",placeholder:"Ex: R$ 950.000,00"})]})]}),t.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-3 lg:grid-cols-5",children:[t.jsxs("div",{children:[t.jsx(u,{children:"Quartos"}),t.jsx(x,{type:"number",min:0,value:s.bedrooms??"",onChange:r=>g(a=>({...a,bedrooms:Number(r.target.value||0)})),inputMode:"numeric",placeholder:"Ex: 3"})]}),t.jsxs("div",{children:[t.jsx(u,{children:"Banheiros"}),t.jsx(x,{type:"number",min:0,value:s.bathrooms??"",onChange:r=>g(a=>({...a,bathrooms:Number(r.target.value||0)})),inputMode:"numeric",placeholder:"Ex: 2"})]}),t.jsxs("div",{children:[t.jsx(u,{children:"Área"}),t.jsx(x,{value:s.area??"",onChange:r=>g(a=>({...a,area:qe(r.target.value)})),inputMode:"numeric",placeholder:"Ex: 120 m²"})]}),t.jsxs("div",{children:[t.jsx(u,{children:"Tipo"}),t.jsxs("select",{className:"mt-1 w-full rounded-md border bg-background p-2",value:s.type??"",onChange:r=>g(a=>({...a,type:r.target.value})),children:[t.jsx("option",{value:"",children:"Selecione…"}),t.jsx("option",{value:"casa",children:"Casa"}),t.jsx("option",{value:"apartamento",children:"Apartamento"}),t.jsx("option",{value:"sobrado",children:"Sobrado"}),t.jsx("option",{value:"cobertura",children:"Cobertura"})]})]}),t.jsxs("div",{children:[t.jsx(u,{children:"Faixa de preço"}),t.jsx(x,{value:s.price_range??"",onChange:r=>g(a=>({...a,price_range:r.target.value})),placeholder:"Ex: 800000-1200000"})]})]}),t.jsxs("div",{className:"flex items-center gap-6",children:[t.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[t.jsx("input",{type:"checkbox",checked:!!s.is_new,onChange:r=>g(a=>({...a,is_new:r.target.checked}))}),"Novo"]}),t.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[t.jsx("input",{type:"checkbox",checked:!!s.is_published,onChange:r=>g(a=>({...a,is_published:r.target.checked}))}),"Publicado"]})]}),t.jsxs("div",{children:[t.jsx(u,{children:"Características (features)"}),t.jsxs("div",{className:"mt-2 flex items-center gap-2",children:[t.jsx(x,{value:Se,onChange:r=>Ce(r.target.value),placeholder:"Ex: Piscina"}),t.jsx(c,{type:"button",variant:"secondary",className:"w-auto",onClick:()=>{const r=Se.trim();r&&(g(a=>({...a,features:[...a.features??[],r]})),Ce(""))},title:"Adicionar",children:"+"})]}),(s.features??[]).length>0&&t.jsx("div",{className:"mt-2 flex flex-wrap gap-2",children:(s.features??[]).map((r,a)=>t.jsxs("span",{className:"inline-flex items-center gap-1 rounded-full bg-muted px-2 py-1 text-xs",children:[r,t.jsx("button",{type:"button",className:"text-muted-foreground hover:text-foreground",onClick:()=>g(p=>({...p,features:(p.features??[]).filter((O,P)=>P!==a)})),children:"×"})]},`${r}-${a}`))})]}),t.jsxs("div",{children:[t.jsx(u,{children:"Imagem"}),t.jsx("div",{className:"mt-2",children:t.jsxs(ae,{open:ke&&Ee==="featured",onOpenChange:r=>{U(r),r||G(null)},children:[t.jsx(Ie,{asChild:!0,children:t.jsx(c,{type:"button",variant:"secondary",className:"w-auto",onClick:()=>{G("featured"),U(!0)},children:"Galeria"})}),t.jsxs(se,{className:"sm:max-w-3xl",children:[t.jsx(le,{children:t.jsx(oe,{children:"Escolher imagem"})}),t.jsx("div",{className:"grid grid-cols-2 gap-3 sm:grid-cols-3 md:grid-cols-4",children:e.map(r=>t.jsx("button",{type:"button",className:"overflow-hidden rounded-md border focus:ring-2 focus:ring-ring focus:outline-none",onClick:()=>{g(a=>({...a,image_id:r.id})),U(!1),G(null)},children:t.jsx("img",{src:r.url,alt:r.original_name,className:"h-28 w-full object-cover"})},r.id))})]})]})}),t.jsx("div",{className:M("mt-4 aspect-video w-full overflow-hidden",!s.image_id&&"border-2 border-dashed"),children:s.image_id&&t.jsx(De,{src:e.find(r=>r.id===s.image_id)?.url??"",titulo:s.title,preco:s.price,quartos:s.bedrooms,banheiros:s.bathrooms,area:s.area,bairro:s.neighborhood})})]}),t.jsx("div",{className:"flex items-end gap-2",children:t.jsx(c,{className:"w-auto",onClick:at,disabled:Ne,title:"Adicionar Destaque",children:Ne?"…":"+"})}),t.jsx("div",{className:"grid grid-cols-1 gap-3 md:grid-cols-2 lg:grid-cols-3",children:Y.map(r=>t.jsxs("div",{className:"overflow-hidden rounded-md border",children:[r.image_url?t.jsx("img",{src:r.image_url,alt:r.title,className:"h-40 w-full object-cover"}):t.jsx("div",{className:"h-40 w-full bg-muted"}),t.jsxs("div",{className:"flex items-center justify-between gap-2 p-2",children:[t.jsxs("div",{className:"min-w-0",children:[t.jsx("div",{className:"truncate font-medium",title:r.title,children:r.title}),t.jsx("div",{className:"text-xs text-muted-foreground",children:r.price})]}),t.jsxs("div",{className:"flex shrink-0 items-center gap-1",children:[t.jsx(c,{className:"w-auto",variant:"secondary",onClick:()=>$e(r.id,-1),title:"Subir",children:"↑"}),t.jsx(c,{className:"w-auto",variant:"secondary",onClick:()=>$e(r.id,1),title:"Descer",children:"↓"}),t.jsx(c,{className:"w-auto",variant:r.is_published?"default":"secondary",onClick:()=>st(r.id),title:"Publicar/Despublicar",children:r.is_published?"Publicado":"Rascunho"}),t.jsx(c,{className:"w-auto",variant:"destructive",onClick:()=>lt(r.id),title:"Excluir",children:"Excluir"})]})]})]},r.id))})]}),t.jsx(Te,{children:t.jsx(c,{className:"w-auto",variant:"secondary",onClick:()=>de(!1),children:"Fechar"})})]})})]})]})]})}export{Zt as default};
